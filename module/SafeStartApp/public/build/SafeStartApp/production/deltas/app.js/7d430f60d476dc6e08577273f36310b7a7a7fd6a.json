["/*dd0611e9744d8ab2d51fc9e80d89dd3226c774d9",42,273779,276174,26819,304322,25134,"mixin.Selec",413536,48,"selectable\",hooks:{updateStore:\"updateStore\"}},config:{disableSelection:null,mode:\"SINGLE\",allowDeselect:false,lastSelected:null,lastFocused:null,deselectOnContainerClick:true},modes:{SINGLE:true,SIMPLE:true,MULTI:true},selectableEventHooks:{addrecords:\"onSelectionStoreAdd\",removerecords:\"onSelectionStoreRemove\",updaterecord:\"onSelectionStoreUpdate\",load:\"refreshSelection\",refresh:\"refreshSelection\"},constructor:function(){this.selected=new Ext.util.MixedCollection();this.callParent(arguments)},applyMode:function(a){a=a?a.toUpperCase():\"SINGLE\";return this.modes[a]?a:\"SINGLE\"},updateStore:function(a,c){var b=this,d=Ext.apply({},b.selectableEventHooks,{scope:b});if(c&&Ext.isObject(c)&&c.isStore){if(c.autoDestroy){c.destroy()}else{c.un(d);if(a){a.un(\"clear\",\"onSelectionStoreClear\",this)}}}if(a){a.on(d);a.onBefore(\"clear\",\"onSelectionStoreClear\",this);b.refreshSelection()}},selectAll:function(a){var e=this,c=e.getStore().getRange(),d=c.length,b=0;for(;b<d;b++){e.select(c[b],true,a)}},deselectAl",352573,32,"Store().getRange();b.deselect(a,c);b.selected.clear();b.setLastSelected(null);b.setLastFocused(null)},selectWithEvent:function(a){var c=this,b=c.isSelected(a);switch(c.getMode()){case\"MULTI\":case\"SIMPLE\":if(b){c.deselect(a)}else{c.select(a,true)}break;case\"SINGLE\":if(c.getAllowDeselect()&&b){c.deselect(a)}else{c.select(a,false)}break}},selectRange:function(c,g,h){var f=this,b=f.getStore(),a=[],e,d;if(f.getDisableSelection()){return}if(c>g){e=g;g=c;c=e}for(d=c;d<=g;d++){a.push(b.getAt(d))}this.doMultiSelect(a,h)},select:function(c,e,b){var d=this,a;if(d.getDisableSelection()){return}if(typeof c===\"number\"){c=[d.getStore().getAt(c)]}if(!c){return}if(d.getMode()==\"SINGLE\"&&c){a=c.length?c[0]:c;d.doSingleSelect(a,b)}else{d.doMultiSelect(c,e,b)}},doSingleSelect:function(a,b){var d=this,c=d.selected;if(d.getDisableSelection()){return}if(d.isSelected(a)){return}if(c.getCount()>0){d.deselect(d.getLastSelected(),b)}c.add(a);d.setLastSelected(a);d.onItemSelect(a,b);d.setLastFocused(a);if(!b){d.fireSelectionChange([a])}},doMultiSelect:function(a,j,h){if(a===null||this.getDisableSelection()){return}a=!Ext.isArray(a)?[a]:a;var f=this,b=f.selected,e=a.length,g=false,c=0,d;if(!j&&b.getCount()>0){g=true;f.deselect(f.getSelection(),true)}for(;c<e;c++){d=a[c];if(j&&f.isSelected(d)){continue}g=true;f.setLastSelected(d);b.add(d);if(!h){f.setLastFocused(d)}f.onItemSelect(d,h)}if(g&&!h){this.fireSelectionChange(a)}},deselect:function(a,j){var f=this;if(f.getDisableSelection()){return}a=Ext.isArray(a)?a:[a];var b=f.selected,g=false,c=0,h=f.getStore(),e=a.length,d;for(;c<e;c++){d=a[c];if(typeof d===\"number\"){d=h.getAt(d)}if(b.remove(d)){if(f.getLastSelected()==d){f.setLastSelected(b.last())}g=true}if(d){f.onItemDeselect(d,j)}}if(g&&!j){f.fireSelectionChange(a)}},updateLastFocused:function(b,a){this.onLastFocusChanged(a,b)},fireSelectionChange:function(a){var b=this;b.fireAction(\"selectionchange\",[b,a],\"getSelection\")},getSelection:function(){return this.selected.getRange()},isSelected:function(a){a=Ext.isNumber(a)?this.getStore().getAt(a):a;return this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var b=this,a=b.getSelection();b.deselectAll(true);if(a.length){b.select(a,false,true)}},onSelectionStoreRemove:function(c,b){var g=this,e=g.selected,f=b.length,a,d;if(g.getDisableSelection()){return}for(d=0;d<f;d++){a=b[d];if(e.remove(a)){if(g.getLastSelected()==a){g.setLastSelected(null)}if(g.getLastFocused()==a){g.setLastFocused(null)}g.fireSelectionChange([a])}}},onSelectionStoreClear:function(b){var a=b.getData().items;this.onSelectionStoreRemove(b,a)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn",344686,36,"view.component.DataItem\",{extend:Ext.Container,xtype:\"dataitem\"",259840,36,"data-item\",defaultType:\"component\",record:null,itemCls:null,dataMap:{},dataview:null,width:\"100%\",items:[{xtype:\"component\"}]",248846,40,";c.callParent(arguments)},updateItemCls:function(b,a){if(a){this.removeCls(a)}if(b){this.addCls(b)}},doMapData:function(d,g,f){var a,e,c,b;for(a in d){c=d[a];e=this[a]();if(e){for(b in c){if(g&&e[b]&&g[c[b]]!==undefined&&g[c[b]]!==null){e[b](g[c[b]])}}}}if(f){f.updateData(g)}},updateRecord:function(d){if(!d){return}this._record=d;var f=this,a=f.dataview||this.getDataview(),g=a.prepareData(d.getData(true),a.getStore().indexOf(d),d),c=f.getItems(),e=c.first(),b=f.getDataMap();if(!e){return}if(b){this.doMapData(b,g,e)}f.fireEvent(\"updatedata\",f,g)}});Ext.define(\"Ext.dataview.component.Container\",{extend:Ext.Container,constructor:function(){this.itemCache=[];this.callParent(arguments)},doInitialize:function(){this.innerElement.on({touchstart:\"onItemTouchStart\",touchend:\"onItemTouchEnd\",tap:\"onItemTap\",taphold:\"onItemTapHold\",touchmove:\"onItemTouchMove\",singletap:\"onItemSingleTap\",doubletap:\"onItemDoubleTap\",swipe:\"onItemSwipe\",delegate:\"> .\"+Ext.baseCSSPrefix+\"data-item\",scope:this})",246797,33,"Parent();this.doInitialize()},onItemTouchStart:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);a.on({touchmove:\"onItemTouchMove\",scope:b,single:true});b.fireEvent(\"itemtouchstart\",b,a,b.indexOf(a),d)},onItemTouchMove:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtouchmove\",b,a,b.indexOf(a),d)},onItemTouchEnd:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);a.un({touchmove:\"onItemTouchMove\",scope:b});b.fireEvent(\"itemtouchend\",b,a,b.indexOf(a),d)},onItemTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtap\",b,a,b.indexOf(a),d)},onItemTapHold:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemtaphold\",b,a,b.indexOf(a),d)},onItemSingleTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemsingletap\",b,a,b.indexOf(a),d)},onItemDoubleTap:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemdoubletap\",b,a,b.indexOf(a),d)},onItemSwipe:function(d){var b=this,c=d.getTarget(),a=Ext.getCmp(c.id);b.fireEvent(\"itemswipe\",b,a,b.indexOf(a),d)},moveItemsToCache:function(j,k){var h=this,c=h.dataview,a=c.getMaxItemCache(),g=h.getViewItems(),f=h.itemCache,e=f.length,l=c.getPressedCls(),d=c.getSelectedCls(),b=k-j,m;for(;b>=0;b--){m=g[j+b];if(e!==a){h.remove(m,false);m.removeCls([l,d]);f.push(m);e++}else{m.destroy()}}if(h.getViewItems().length==0){this.dataview.showEmptyText()}},moveItemsFromCache:function(b){var l=this,e=l.dataview,m=e.getStore(),k=b.length,a=e.getDefaultType(),h=e.getItemConfig(),g=l.itemCache,f=g.length,j=[],c,n,d;if(k){e.hideEmptyText()}for(c=0;c<k;c++){b[c]._tmpIndex=m.indexOf(b[c])}Ext.Array.sort(b,function(o,i){return o._tmpIndex>i._tmpIndex?1:-1});for(c=0;c<k;c++){d=b[c];if(f){f--;n=g.pop();this.updateListItem(d,n)}else{n=l.getDataItemConfig(a,d,h)}n=this.insert(d._tmpIndex,n);delete d._tmpIndex}return j},getViewItems:function(){return this.getInnerItems()},updateListItem:function(a,b){if(b.updateRecord){if(b.getRecord()===a){b.updateRecord(a)}else{b.setRecord(a)}}},getDataItemConfig:function(e,b,c){var a=this.dataview,d={xtype:e,record:b,itemCls:a.getItemCls(),defaults:c,dataview:a};return Ext.merge(d,c)},doRemoveItemCls:function(a){var b=this.getViewItems(),d=b.length,c=0;for(;c<d;c++){b[c].removeCls(a)}},doAddItemCls:function(a){var b=this.getViewItems(),d=b.length,c=0;for(;c<d;c++){b[c].addCls(a)}},updateAtNewIndex:function(c,b,a){this.moveItemsToCache(c,c);this.moveItemsFromCache([a]",177996,32,",b=d.itemCache,c=b.length,a=0;for(;a<c;a++){b[a].destroy()}",281184,37,"dataview.elemen",247401,35,"doInitialize:function(){this.element.on({touchstart:\"onItemTouchStart\",touchend:\"onItemTouchEnd\",tap:\"onItemTap\",taphold:\"onItemTapHold\",touchmove:\"onItemTouchMove\",singletap:\"onItemSingleTap\",doubletap:\"onItemDoubleTap\",swipe:\"onItemSwipe\",delegate:\"> div\",scope:this})",246797,33,"Parent();this.doInitialize()",248846,40,";c.callParent([a+\"-container\",b])},onItemTouchStart:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);Ext.get(c).on({touchmove:\"onItemTouchMove\",scope:b,single:true});b.fireEvent(\"itemtouchstart\",b,Ext.get(c),a,d)},onItemTouchEnd:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);Ext.get(c).un({touchmove:\"onItemTouchMove\",scope:b});b.fireEvent(\"itemtouchend\",b,Ext.get(c),a,d)},onItemTouchMove:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtouchmove\",b,Ext.get(c),a,d)},onItemTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtap\",b,Ext.get(c),a,d)},onItemTapHold:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemtaphold\",b,Ext.get(c),a,d)},onItemDoubleTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemdoubletap\",b,Ext.get(c),a,d)},onItemSingleTap:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemsingletap\",b,Ext.get(c),a,d)},onItemSwipe:function(d){var b=this,c=d.getTarget(),a=b.getViewItems().indexOf(c);b.fireEvent(\"itemswipe\",b,Ext.get(c),a,d)},updateListItem:function(b,f){var e=this,a=e.dataview,c=a.getStore(),d=c.indexOf(b),g=a.prepareData(b.getData(true),d,b);g.xcount=c.getCount();g.xindex=typeof g.xindex===\"number\"?g.xindex:d;f.innerHTML=a.getItemTpl().apply(g)},addListItem:function(e,c){var h=this,d=h.dataview,i=d.getStore(),a=d.prepareData(c.getData(true),e,c),b=h.element,j=b.dom.childNodes,g=j.length,f;a.xcount=typeof a.xcount===\"number\"?a.xcount:i.getCount();a.xindex=typeof a.xindex===\"number\"?a.xindex:e;f=Ext.Element.create(this.getItemElementConfig(e,a));if(!g||e==g){f.appendTo(b)}else{f.insertBefore(j[e])}},getItemElementConfig:function(c,e){var b=this.dataview,d=b.getItemCls(),a=b.getBaseCls()+\"-item\";if(d){a+=\" \"+d}return{cls:a,html:b.getItemTpl().apply(e)}},doRemoveItemCls:function(a){var d=this.getViewItems(),c=d.length,b=0;for(;b<c;b++){Ext.fly(d[b]).removeCls(a)}},doAddItemCls:function(a){var d=this.getViewItems(),c=d.length,b=0;for(;b<c;b++){Ext.fly(d[b]).addCls(a)}},moveItemsToCache:function(f,e){var d=this,a=d.getViewItems(),b=e-f,c;for(;b>=0;b--){c=a[f+b];Ext.get(c).destroy()}if(d.getViewItems().length==0){this.dataview.showEmptyText()}},moveItemsFromCache:function(d){var g=this,b=g.dataview,c=b.getStore(),f=d.length,e,a;if(f){b.hideEmptyText()}for(e=0;e<f;e++){d[e]._tmpIndex=c.indexOf(d[e])}Ext.Array.sort(d,function(i,h){return i._tmpIndex>h._tmpIndex?1:-1});for(e=0;e<f;e++){a=d[e];g.addListItem(a._tmpIndex,a);delete a._tmpIndex}},getViewItems:function(){return Array.prototype.slice.call(this.element.dom.childNodes)},updateAtNewIndex:function(c,b,a){this.moveItemsToCache(c,c);this.moveItemsFromCache([a]",230580,36,"ViewItems(),b=c.length,a=0;for(;a<b;a++){Ext.get(c[a]).destroy()}",281184,37,"dataview.DataView",259755,48,"DataView\",mixins:[Ext.mixin.Selectable],xtype:\"dataview\",config:{store:null,data:null,baseCls:Ext.baseCSSPrefix+\"dataview\",emptyText:null,deferEmptyText:true,itemTpl:\"<div>{text}</div>\",pressedCls:\"x-item-pressed\",itemCls:null,selectedCls:\"x-item-selected\",triggerEvent:\"itemtap\",triggerCtEvent:\"tap\",deselectOnContainerClick:true,scrollable:true,inline:null,pressedDelay:100,loadingText:\"Loading...\",useComponents:null,itemConfig:{},maxItemCache:20,defaultType:\"dataitem\",scrollToTopOnRefresh:true},constructor:function(a){var c=this,b;c.hasLoadedStore=false;c.mixins.selectable.constructor.apply(c,arguments);c.indexOffset=0;c.callParent(arguments)},updateItemCls",186233,35,";if(a){if(b){a.doRemoveItemCls(b)}if(c){a.doAddItemCls(c)}}},storeEventHooks:{beforeload:\"onBeforeLoad\",load:\"onLoad\",refresh:\"refresh\",addrecords:\"onStoreAdd\",removerecords:\"onStoreRemove\",updaterecord:\"onStoreUpdate\"",246797,33,"Parent();var b=this,a;b.on(b.getTriggerCtEvent(),b.onContainerTrigger,b);a=b.container=this.add(new Ext.dataview[b.getUseComponents()?\"component\":\"element\"].Container({baseCls:this.getBaseCls()}));a.dataview=b;b.on(b.getTriggerEvent(),b.onItemTrigger,b);a.on({itemtouchstart:\"onItemTouchStart\",itemtouchend:\"onItemTouchEnd\",itemtap:\"onItemTap\",itemtaphold:\"onItemTapHold\",itemtouchmove:\"onItemTouchMove\",itemsingletap:\"onItemSingleTap\",itemdoubletap:\"onItemDoubleTap\",itemswipe:\"onItemSwipe\",scope:b});if(b.getStore()){if(b.isPainted()){b.refresh()}else{b.on({painted:\"refresh\",single:true})}}},applyInline",256823,35,"Ext.apply({},a)}return a},updateInline:function(c,b){var a=this.getBaseCls();if(b){this.removeCls([a+\"-inlineblock\",a+\"-nowrap\"])}if(c){this.addCls(a+\"-inlineblock\");if(Ext.isObject(c)&&c.wrap===false){this.addCls(a+\"-nowrap\")}else{this.removeCls(a+\"-nowrap\")}}},prepareData:function(c,b,a){return c},onContainerTrigger:function(b){var a=this;if(b.target!=a.element.dom){return}if(a.getDeselectOnContainerClick()&&a.getStore()){a.deselectAll()}},onItemTrigger:function(b,a){this.selectWithEvent(this.getStore().getAt(a))},doAddPressedCls:function(a){var c=this,b=c.getItemAt(c.getStore().indexOf(a));if(Ext.isElement(b)){b=Ext.get(b)}if(b){if(b.isComponent){b.renderElement.addCls(c.getPressedCls())}else{b.addCls(c.getPressedCls())}}},onItemTouchStart:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireAction(\"itemtouchstart\",[f,d,h,a,g],\"doItemTouchStart\")},doItemTouchStart:function(c,b,e,a){var d=c.getPressedDelay();if(a){if(d>0){c.pressedTimeout=Ext.defer(c.doAddPressedCls,d,c,[a])}else{c.doAddPressedCls(a)}}},onItemTouchEnd:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);if(this",264773,48,"this.pressedTimeout);delete this.pressedTimeout}if(a&&h){if(h.isComponent){h.renderElement.removeCls(f.getPressedCls())}else{h.removeCls(f.getPressedCls())}}f.fireEvent(\"itemtouchend\",f,d,h,a,g)},onItemTouchMove:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);if(f",264773,48,"f.pressedTimeout);delete f.pressedTimeout}if(a&&h){if(h.isComponent){h.renderElement.removeCls(f.getPressedCls())}else{h.removeCls(f.getPressedCls())}}f.fireEvent(\"itemtouchmove\",f,d,h,a,g)},onItemTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemtap\",f,d,h,a,g)},onItemTapHold:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemtaphold\",f,d,h,a,g)},onItemSingleTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemsingletap\",f,d,h,a,g)},onItemDoubleTap:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemdoubletap\",f,d,h,a,g)},onItemSwipe:function(b,h,d,g){var f=this,c=f.getStore(),a=c&&c.getAt(d);f.fireEvent(\"itemswipe\",f,d,h,a,g)},onItemSelect:function(a,b){var c=this;if(b){c.doItemSelect(c,a)}else{c.fireAction(\"select\",[c,a],\"doItemSelect\")}},doItemSelect:function(c,a){if(c.container&&!c.isDestroyed){var b=c.getItemAt(c.getStore().indexOf(a));if(Ext.isElement(b)){b=Ext.get(b)}if(b){if(b.isComponent){b.renderElement.removeCls(c.getPressedCls());b.renderElement.addCls(c.getSelectedCls())}else{b.removeCls(c.getPressedCls());b.addCls(c.getSelectedCls())}}}},onItemDeselec",138955,34,"ntainer&&!c.isDestroyed){if(b){c.doItemDeselect(c,a)}else{c.fireAction(\"deselect\",[c,a,b],\"doItemDeselect\")}}},doItemDeselect:function(c,a){var b=c.getItemAt(c.getStore().indexOf(a));if(Ext.isElement(b)){b=Ext.get(b)}if(b){if(b.isComponent){b.renderElement.removeCls([c.getPressedCls(),c.getSelectedCls()])}else{b.removeCls([c.getPressedCls(),c.getSelectedCls()])}}},updateData:function(b){var a=this.getStore();if(!a){this.setStore(Ext.create(\"Ext.data.Store\",{data:b,autoDestroy:true}))}else{a.add(b)}},applyStore:function(b){var d=this,e=Ext.apply({},d.storeEventHooks,{scope:d}),c,a;if(b){b=Ext.data.StoreManager.lookup(b);if(b&&Ext.isObject(b)&&b.isStore){b.on(e);c=b.getProxy();if(c){a=c.getReader();if(a){a.on(\"exception\",\"handleException\",this)}}}}return b},handleException",248209,35,"updateStore:function(b,e){var d=this,f=Ext.apply({},d.storeEventHooks,{scope:d}),c,a;if(e&&Ext.isObject(e)&&e.isStore){e.un(f);if(!d.isDestroyed){d.onStoreClear()}if(e.getAutoDestroy()){e.destroy()}else{c=e.getProxy();if(c){a=c.getReader();if(a){a.un(\"exception\",\"handleException\",this)}}}}if(b){if(b.isLoaded()){this.hasLoadedStore=true}if(b.isLoading()){d.onBeforeLoad()}if(d.container){d.refresh()}}},onBeforeLoad:function(){var a=this.getLoadingText();if(a&&this.isPainted()){this.setMasked({xtype:\"loadmask\",message:a})}this.hideEmptyText()},updateEmptyText:function(c,d){var b=this,a;if(d&&b.emptyTextCmp){b.remove(b.emptyTextCmp,true);delete b.emptyTextCmp}if(c){b.emptyTextCmp=b.add({xtype:\"component\",cls:b.getBaseCls()+\"-emptytext\",html:c,hidden:true});a=b.getStore();if(a&&b.hasLoadedStore&&!a.getCount()){this.showEmptyText()}}},onLoad:function(a){this.hasLoadedStore=true;this.setMasked(false);if(!a.getCount()){this.showEmptyText()}},refresh:function(){var b=this,a=b.container;if(!b.getStore()){if(!b.hasLoadedStore&&!b.getDeferEmptyText()){b.showEmptyText()}return}if(a){b.fireAction(\"refresh\",[b],\"doRefresh\")}},applyItemTpl:function(a){return(Ext.isObject(a)&&a.isTemplate)?a:new Ext.XTemplate(a)},onAfterRender",283760,36,"arguments);a.updateStore(a.getStore())},getItemAt:function(a){return this.getViewItems()[a-this.indexOffset]},getItem",292839,32,"ViewItems().indexOf(b);return(a===-1)?a:this.indexOffset+a},getViewItems:function(){return this.container.getViewItems()},doRefresh:function(g){var a=g.container,l=g.getStore(),b=l.getRange(),f=g.getViewItems(),j=b.length,o=f.length,c=j-o,h=g.getScrollable(),d,m;if(this.getScrollToTopOnRefresh()&&h){h.getScroller().scrollToTop()}if(j<1){g.onStoreClear();return}else{g.hideEmptyText()}if(c<0){a.moveItemsToCache(o+c,o-1);f=g.getViewItems();o=f.length}else{if(c>0){a.moveItemsFromCache(l.getRange(o))}}for(d=0;d<o;d++){m=f[d];a.updateListItem(b[d],m)}if(this.hasSelection()){var k=this.getSelection(),n=this.getSelectionCount(),e;for(d=0;d<n;d++){e=k[d];this.doItemSelect(this,e)}}},showEmptyText:function(){if(this.getEmptyText()&&(this.hasLoadedStore||!this.getDeferEmptyText())){this.emptyTextCmp.show()}},hideEmptyText:function(){if(this.getEmptyText()){this.emptyTextCmp.hide(",191960,37,"Store(),c=(b&&b.getProxy()),a=(c&&c.getReader());if(a){a.clearListeners()}",304158,32,"setStore(null)},onStoreClear:function(){var c=this,a=c.container,b=c.getViewItems();a.moveItemsToCache(0,b.length-1);this.showEmptyText()},onStoreAdd:function(b,a){if(a){this.hideEmptyText();this.container.moveItemsFromCache(a)}},onStoreRemove:function(c,b,f){var a=this.container,e=b.length,d;for(d=0;d<e;d++){a.moveItemsToCache(f[d],f[d])}},onStoreUpdate:function(c,b,d,g){var f=this,a=f.container,e;g=(typeof g===\"undefined\")?d:g;if(g!==d){a.updateAtNewIndex(g,d,b);if(f.isSelected(b)){f.doItemSelect(f,b)}}else{e=f.getViewItems()[d];if(e){a.updateListItem(b,e)}}",329436,67956,"NodeInterface",366688,32,"Node\",statics:{decorate:function(d){if(!d.isNode){var g=Ext.data.ModelManager,c=d.modelName,e=g.getModel(c),b=[],f,h,a;e.override(this.getPrototypeBody());b=this.applyFields(e,[{name:\"parentId\",type:\"string\",defaultValue:null},{name:\"index\",type:\"int\",defaultValue:0},{name:\"depth\",type:\"int\",defaultValue:0,persist:false},{name:\"expanded\",type:\"bool\",defaultValue:false,persist:false},{name:\"expandable\",type:\"bool\",defaultValue:true,persist:false},{name:\"checked\",type:\"auto\",defaultValue:null},{name:\"leaf\",type:\"bool\",defaultValue:false,persist:false},{name:\"cls\",type:\"string\",defaultValue:null,persist:false},{name:\"iconCls\",type:\"string\",defaultValue:null,persist:false},{name:\"root\",type:\"boolean\",defaultValue:false,persist:false},{name:\"isLast\",type:\"boolean\",defaultValue:false,persist:false},{name:\"isFirst\",type:\"boolean\",defaultValue:false,persist:false},{name:\"allowDrop\",type:\"boolean\",defaultValue:true,persist:false},{name:\"allowDrag\",type:\"boolean\",defaultValue:true,persist:false},{name:\"loaded\",type:\"boolean\",defaultValue:false,persist:false},{name:\"loading\",type:\"boolean\",defaultValue:false,persist:false},{name:\"href\",type:\"string\",defaultValue:null,persist:false},{name:\"hrefTarget\",type:\"string\",defaultValue:null,persist:false},{name:\"qtip\",type:\"string\",defaultValue:null,persist:false},{name:\"qtitle\",type:\"string\",defaultValue:null,persist:false}]);a=b.length;e.getFields().isDirty=true;for(f=0;f<a;++f){h=b[f];if(d.get(h.getName())===undefined){d.data[h.getName()]=h.getDefaultValue()}}}if(!d.isDecorated){d.isDecorated=true;Ext.applyIf(d,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]});d.enableBubble([\"append\",\"remove\",\"move\",\"insert\",\"beforeappend\",\"beforeremove\",\"beforemove\",\"beforeinsert\",\"expand\",\"collapse\",\"beforeexpand\",\"beforecollapse\",\"sort\",\"load\"])}return d},applyFields:function(g,h){var b=g.prototype,d=b.fields,j=d.keys,f=h.length,a,c,e=[];for(c=0;c<f;c++){a=h[c];if(!Ext.Array.contains(j,a.name)){a=Ext.create(\"Ext.data.Field\",a);e.push(a);d.add(a)}}return e},getPrototypeBody:function(){return{isNode:true,createNode:function(a){if(Ext.isObject(a)&&!a.isModel){a=Ext.data.ModelManager.create(a,this.modelName)}return Ext.data.NodeInterface.decorate(a)},isLeaf:function(){return this.get(\"leaf\")===true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(g){var j=this,f=j.parentNode,b=(!f?true:f.firstChild==j),e=(!f?true:f.lastChild==j),d=0,k=j,a=j.childNodes,h=a.length,c;while(k.parentNode){++d;k=k.parentNode}j.beginEdit();j.set({isFirst:b,isLast:e,depth:d,index:f?f.indexOf(j):0,parentId:f?f.getId():null});j.endEdit(g);if(g){j.commit(g)}for(c=0;c<h;c++){a[c].updateInfo(g)}},isLast:function(){return this.get(\"isLast\")},isFirst:function(){return this.get(\"isFirst\")},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandabl",275063,32,"(\"expandable\")){return !(a.isLeaf()||(a.isLoaded()&&!a.hasChildNodes()))}return false},appendChild:function(b,j,h){var f=this,c,e,d,g,a;if(Ext.isArray(b)){for(c=0,e=b.length;c<e;c++){f.appendChild(b[c],j,h)}}else{b=f.createNode(b);if(j!==true&&f.fireEvent(\"beforeappend\",f,b)===false){return false}d=f.childNodes.length;g=b.parentNode;if(g){if(j!==true&&b.fireEvent(\"beforemove\",b,g,f,d)===false){return false}g.removeChild(b,null,false,true)}d=f.childNodes.length;if(d===0){f.setFirstChild(b)}f.childNodes.push(b);b.parentNode=f;b.nextSibling=null;f.setLastChild(b);a=f.childNodes[d-1];if(a){b.previousSibling=a;a.nextSibling=b;a.updateInfo(h)}else{b.previousSibling=null}b.updateInfo(h);if(!f.isLoaded()){f.set(\"loaded\",true)}else{if(f.childNodes.length===1){f.set(\"loaded\",f.isLoaded())}}if(j!==true){f.fireEvent(\"append\",f,b,d);if(g){b.fireEvent(\"move\",b,g,f,d)}}return b",115039,37,"this.parentNode},removeChild:function(e,b,c,f){var d=this,a=d.indexOf(e);if(a==-1||(c!==true&&d.fireEvent(\"beforeremove\",d,e)===false)){return false}Ext.Array.erase(d.childNodes,a,1);if(d.firstChild==e){d.setFirstChild(e.nextSibling)}if(d.lastChild==e){d.setLastChild(e.previousSibling)}if(c!==true){d.fireEvent(\"remove\",d,e)}if(e.previousSibling){e.previousSibling.nextSibling=e.nextSibling;e.previousSibling.updateInfo(f)}if(e.nextSibling){e.nextSibling.previousSibling=e.previousSibling;e.nextSibling.updateInfo(f)}if(!d.childNodes.length){d.set(\"loaded\",d.isLoaded())}if(b){e.destroy(true)}else{e.clear()}return e},copy:function(d,c){var f=this,b=f.callOverridden(arguments),a=f.childNodes?f.childNodes.length:0,e;if(c){for(e=0;e<a;e++){b.appendChild(f.childNodes[e].copy(true))}}return b",119496,33,"parentNode=b.previousSibling=b.nextSibling=null;if(a){b.firstChild=b.lastChild=null}},destroy:function(a){var c=this,b=c.destroyOptions;if(a===true){c.clear(true);Ext.each(c.childNodes,function(d){d.destroy(true)});c.childNodes=null;delete c.destroyOptions;c.callOverridden([b])}else{c.destroyOptions=a;c.remove(true)}},insertBefore:function(f,a,d){var e=this,b=e.indexOf(a),c=f.parentNode,g=b,h;if(!a){return e.appendChild(f)}if(f==a){return false}f=e.createNode(f);if(d!==true&&e.fireEvent(\"beforeinsert\",e,f,a)===false){return false}if(c==e&&e.indexOf(f)<b){g--}if(c){if(d!==true&&f.fireEvent(\"beforemove\",f,c,e,b,a)===false){return false}c.removeChild(f)}if(g===0){e.setFirstChild(f)}Ext.Array.splice(e.childNodes,g,0,f);f.parentNode=e;f.nextSibling=a;a.previousSibling=f;h=e.childNodes[g-1];if(h){f.previousSibling=h;h.nextSibling=f;h.updateInfo()}else{f.previousSibling=null}f.updateInfo();if(!e.isLoaded()){e.set(\"loaded\",true)}else{if(e.childNodes.length===1){e.set(\"loaded\",e.isLoaded())}}if(d!==true){e.fireEvent(\"insert\",e,f,a);if(c){f.fireEvent(\"move\",f,c,e,g,a)}}return f},insertChild:function(a,c){var b=this.childNodes[a];if(b){return this.insertBefore(c,b)}else{return this.appendChild(c)}},remove:function(b,c){var a=this.parentNode;if(a){a.removeChild(this,b,c,true)}return this},removeAll:function(a,b){var d=this.childNodes,c;while((c=d[0])){this.removeChild(c,a,b)}return this},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,d,c){var b=d?d.nextSibling:null;this.removeChild(d,c);this.insertBefore(a,b,c)",99260,61,"childNodes,a)},getPath:function(d,c){d=d||this.idProperty;c=c||\"/\";var b=[this.get(d)],a=this.parentNode;while(a){b.unshift(a.get(d));a=a.parentNode}return c+b.join(c)},getDepth:function(){return this.get(\"depth\")},bubble:function(c,b,a){var d=this;while(d){if(c.apply(b||d,a||[d])===false){break}d=d.parentNode}},cascadeBy:function(d,c,a){if(d.apply(c||this,a||[this])!==false){var f=this.childNode",324334,32,"f[b].cascadeBy(d,c,a)}}},eachChild:function(d,c,a){var f=this.childNode",324334,32,"if(d.apply(c||this,a||[f[b]])===false){break}}},findChild:function(b,c,a){return this.findChildBy(function(){return this.get(b)==c},null,a)},findChildBy:function(g,f,b){var e=this.childNodes,a=e.length,d=0,h,c;for(;d<a;d++){h=e[d];if(g.call(f||h,h)===true){return h}else{if(b){c=h.findChildBy(g,f,b);if(c!==null){return c}}}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){var b=this.parentNode;while(b){if(b==a){return true}b=b.parentNode}return false},sort:function(f,b,a){var d=this.childNodes,e=d.length,c,g;if(e>0){Ext.Array.sort(d,f);for(c=0;c<e;c++){g=d[c];g.previousSibling=d[c-1];g.nextSibling=d[c+1];if(c===0){this.setFirstChild(g)}if(c==e-1){this.setLastChild(g)}g.updateInfo(a);if(b&&!g.isLeaf()){g.sort(f,true,true)}}this.notifyStores(\"afterEdit\",[\"sorted\"],{sorted:\"sorted\"});if(a!==true){this.fireEvent(\"sort\",this,d)}}},isExpanded:function(){return this.get(\"expanded\")},isLoaded:function(){return this.get(\"loaded\")},isLoading:function(){return this.get(\"loading\")},isRoot:function(){return !this.parentNode},isVisible:function(){var a=this.parentNode;while(a){if(!a.isExpanded()){return false}a=a.parentNode}return true},expand:function(a,d,b){var c=this;if(!c.isLeaf()){if(c.isLoading()){c.on(\"expand\",function(){c.expand(a,d,b)},c,{single:true})}else{if(!c.isExpanded()){c.fireAction(\"expand\",[this],function(){c.set(\"expanded\",true);Ext.callback(d,b||c,[c.childNodes])})}else{Ext.callback(d,b||c,[c.childNodes])}}}else{Ext.callback(d,b||c)}},collapse:function(a,d,b){var c=this;if(!c.isLeaf()&&c.isExpanded()){this.fireAction(\"collapse\",[c],function(){c.set(\"expanded\",false);Ext.callback(d,b||c,[c.childNodes])})}else{Ext.callback(d,b||c,[c.childNodes])}}}}}});Ext.define(\"Ext.data.Node",397173,43,"node\",config:{node:null,recursive:false,rootVisible:false,sorters:undefined,filters:undefined,folderSort:false},afterEdit:function(a,b){if(b){if(b.indexOf(\"loaded\")!==-1){return this.add(this.retrieveChildNodes(a))}if(b.indexOf(\"expanded\")!==-1){return this.filter()}if(b.indexOf(\"sorted\")!==-1){return this.sort()}}this.callParent(arguments)},onNodeAppend:function(a,b){this.add([b].concat(this.retrieveChildNodes(b)))},onNodeInsert:function(a,b){this.add([b].concat(this.retrieveChildNodes(b)))},onNodeRemove:function(a,b){this.remove([b].concat(this.retrieveChildNodes(b)))},onNodeSort:function(){this.sort()},updateFolderSort:function(a){if(a){this.setGrouper(function(b){if(b.isLeaf()){return 1}return 0})}else{this.setGrouper(null)}",380819,34,"var a=this.callParent();a.handleSort=Ext.Function.bind(this.handleTreeSort,this,[a],true);a.findInsertionIndex=Ext.Function.bind(this.handleTreeInsertionIndex,this,[a,a.findInsertionIndex],true);return a},handleTreeInsertionIndex:function(a,b,d,c){return c.call(d,a,b,this.treeSortFn)},handleTreeS",317455,38,"treeSortFn);return a},treeSortFn:function(c,a){if(c.parentNode===a.parentNode){return(c.data.index<a.data.index)?-1:1}var f=0,e=0,d=c,b=a;while(d){f+=(Math.pow(10,(d.data.depth+1)*-4)*(d.data.index+1));d=d.parentNode}while(b){e+=(Math.pow(10,(b.data.depth+1)*-4)*(b.data.index+1));b=b.parentNode}if(f>e){return 1}else{if(f<e){return -1}}return(c.data.index>a.data.index)?1:-1},applyFilters:function(b){var a=this;return function(c){return a.isVisible(c)}},applyProxy:function(a){},applyNode:function(a){if(a){a=Ext.data.NodeInterface.decorate(a)}return a},updateNode:function(a,c){if(c&&!c.isDestroyed){c.un({append:\"onNodeAppend\",insert:\"onNodeInsert\",remove:\"onNodeRemove\",load:\"onNodeLoad\",scope:this});c.unjoin(this)}if(a){a.on({scope:this,append:\"onNodeAppend\",insert:\"onNodeInsert\",remove:\"onNodeRemove\",load:\"onNodeLoad\"});a.join(this);var b=[];if(a.childNodes.length){b=b.concat(this.retrieveChildNodes(a))}if(this.getRootVisible()){b.push(a)}else{if(a.isLoaded()||a.isLoading()){a.set(\"expanded\",true)}}this.data.clear();this.fireEvent(\"clear\",this);this.suspendEvents();this.add(b);this.resumeEvents(",388555,32,"this.data)}},retrieveChildNodes:function(a){var d=this.getNode(),b=this.getRecursive(),c=[],e=a;if(!a.childNodes.length||(!b&&a!==d)){return c}if(!b){return a.childNodes}while(e){if(e._added){delete e._added;if(e===a){break}else{e=e.nextSibling||e.parentNode}}else{if(e!==a){c.push(e)}if(e.firstChild){e._added=true;e=e.firstChild}else{e=e.nextSibling||e.parentNode}}}return c},isVisible:function(b){var a=b.parentNode;if(!this.getRecursive()&&a!==this.getNode()){return false}while(a){if(!a.isExpanded()){return false}if(a===this.getNode()){break}a=a.parentNode}return true}});Ext.define(\"Ext.data.TreeStore\",{extend:Ext.data.NodeStore,alias:\"store.tree\",config:{root:undefined,clearOnLoad:true,nodeParam:\"node\",defaultRootId:\"root\",defaultRootProperty:\"children\",recursive:true},applyProxy:function(){return Ext.data.Store.prototype.applyProxy.apply(this,arguments)},applyRoot:function(a){var b=this;a=a||{};a=Ext.apply({},a);if(!a.isModel){Ext.applyIf(a,{id:b.getStoreId()+\"-\"+b.getDefaultRootId(),text:\"Root\",allowDrag:false});a=Ext.data.ModelManager.create(a,b.getModel())}Ext.data.NodeInterface.decorate(a);a.set(a.raw);return a},handleTreeInsertionIndex:function(a,b,d,c){if(b.parentNode){b.parentNode.sort(d.getSortFn(),true,true)}",200496,34,",handleTreeSort:function(a,b){if(this._sorting){return a}this._sorting=true;this.getNode().sort(b.getSortFn(),true,true);delete this._sorting",200495,35,",updateRoot:function(a,b){if(b){b.unBefore({expand:\"onNodeBeforeExpand\",scope:this});b.unjoin(this)}a.onBefore({expand:\"onNodeBeforeExpand\",scope:this});this.onNodeAppend(null,a);this.setNode(a);if(!a.isLoaded()&&!a.isLoading()&&a.isExpanded()){this.load({node:a})}this.fireEvent(\"rootchange\",this,a,b)},getNodeBy",386350,32,"getByKey(a)},onNodeBeforeExpand:function(b,a,c){if(b.isLoading()){c.pause();this.on(\"load\",function(){c.resume()},this,{single:true})}else{if(!b.isLoaded()){c.pause();this.load({node:b,callback:function(){c.resume()}})}}},onNodeAppend:function(n,c){var l=this.getProxy(),j=l.getReader(),b=this.getModel(),g=c.raw,d=[],a=j.getRootProperty(),m,h,f,k,e;if(!c.isLeaf()){m=j.getRoot(g);if(m){h=j.extractData(m);for(f=0,k=h.length;f<k;f++){e=h[f];d.push(new b(e.data,e.id,e.node))}if(d.length){this.fillNode(c,d)}else{c.set(\"loaded\",true)}delete g[a]}}},updateAutoLoad",343053,34,"oot();if(!a.isLoaded()&&!a.isLoading()){this.load({node:a})}}},load:function(a){a=a||{};a.params=a.params||{};var c=this,b=a.node=a.node||c.getRoot();a.params[c.getNodeParam()]=b.getId();if(c.getClearOnLoad()){b.removeAll(true)}b.set(\"loading\",true);return c.callParent([a])},updateProxy",295401,46,"b.getReader();if(!a.getRootProperty()){a.setRootProperty(this.getDefaultRootProperty());a.buildExtractors()}},removeAll:function(){this.getRoot().removeAll(true);this.callParent(arguments)",391918,54,"e=b.wasSuccessful(),c=b.getNode();c.beginEdit();c.set(\"loading\",false);if(e){a=d.fillNode(c,a)}c.endEdit();d.loading=false;d.loaded=true;c.fireEvent(\"load\",c,a,e)",392148,87,"fillNode:function(d,a){var c=a?a.length:0,b,e;for(b=0;b<c;b++){e=d.appendChild(a[b],true,true);this.onNodeAppend(d,e)}d.set(\"loaded\",true);return a}",397368,1578,"dataview.IndexBa",247411,49,"IndexBar\"",259840,36,"indexbar\",direction:\"vertical\",letters:[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\"],ui:\"alphabet\",listPrefix:null},itemCls:Ext.baseCSSPrefix+\"\",updateDirection:function(a,c){var b=this.getBaseCls();this.element.replaceCls(b+\"-\"+c,b+\"-\"+a)}",413664,47,"wrapper\",classList:[\"x-centered\",\"x-indexbar-wrapper\"]",237611,32,"updateLetters:function(c){this.innerElement.setHtml(\"\");if(c){var b=c.length,a;for(a=0;a<b;a++){this.innerElement.createChild({html:c[a]})}}},updateListPrefix:function(a){if(a&&a.length){this.innerElement.createChild({html:a},0)}",246797,33,"Parent();this.innerElement.on({dragstart:this.onDragStart,dragend:this.onDragEnd,drag:this.onDrag,scope:this})},onDragStart:function(b,a){b.stopPropagation();this.innerElement.addCls(this.getBaseCls()+\"-pressed\");this.pageBox=this.innerElement.getPageBox();this.onDrag(b)},onDragEnd:function(b,a){this.innerElement.removeCls(this.getBaseCls()+\"-pressed\")},onDrag:function(c){var a=Ext.util.Point.fromEvent(c),b,d=this.pageBox;if(!d){d=this.pageBox=this.el.getPageBox()}if(this.getDirection()===\"vertical\"){if(a.y>d.bottom||a.y<d.top){return}b=Ext.Element.fromPoint(d.left+(d.width/2),a.y)}else{if(a.x>d.right||a.x<d.left){return}b=Ext.Element.fromPoint(a.x,d.top+(d.height/2))}if(b){this.fireEvent(\"index\",this,b.dom.innerHTML,",180254,34,",d=Array.prototype.slice.call(c.innerElement.dom.childNodes),b=d.length,a=0;for(;a<b;a++){Ext.removeNode(d[a])}this.callParent(",344684,38,"view.ListItemHeader\",{extend:Ext.Component,xtype:\"listitemheader\"",259840,36,"list-header\",docked:\"top\"}});Ext.define(\"Ext.dataview.component.ListItem\",{extend:Ext.dataview.component.DataItem,xtype:\"listitem\"",259840,36,"list-item\",dataMap:null,body:{xtype:\"component\",cls:\"x-list-item-body\"},disclosure:{xtype:\"component\",cls:\"x-list-disclosure\",hidden:true,docked:\"right\"},header:{xtype:\"component\",cls:\"x-list-header\",html:\" \"},tpl:null,items:null},applyBody:function(a){if(a&&!a.isComponent){a=",298439,33,"getBody())}return a},updateBody",299020,33,"else{if(b){b.destroy()}}},applyHeader:function(a){if(a&&!a.isComponent){a=",298439,33,"getHeader())}return a},updateHeader:function(b,a){if(a){a.destroy()}},applyDisclosure:function(a){if(a&&!a.isComponent){a=",298439,33,"getDisclosure())}return a},updateDisclosur",282857,34,"else{if(a){a.destroy()}}},updateTpl:function(a){this.getBody().setTpl(a)},updateRecord:function(d){var f=this,c=f.dataview||this.getDataview(),g=d&&c.prepareData(d.getData(true),c.getStore().indexOf(d),d),e=f.getDataMap(),b=this.getBody(),h=this.getDisclosure();f._record=d;if(e){f.doMapData(e,g,b)}else{if(b){b.updateData(g||null)}}if(h&&d&&c.getOnItemDisclosure()){var a=c.getDisclosureProperty();h[(g.hasOwnProperty(a)&&g[a]===false)?\"hide\":\"show\"]()}f.fireEvent(\"updatedata\",f,g",281129,42,"Header",230848,32,");Ext.define(\"Ext.dataview.component.SimpleListItem\",{extend:Ext.Component,xtype:\"simplelistitem\"",259840,36,"list-item\",disclosure:{xtype:\"component\",cls:\"x-list-disclosure\",hidden:true},header:{xtype:\"component\",cls:\"x-list-header\",html:\" \"},dataview:null,record:null},initialize:function(",237991,39,"+\"-tpl\")},applyHeader:function(a){if(a&&!a.isComponent){a=",298439,33,"getHeader())}return a},updateHeader:function(b,a){if(a){a.destroy()}},applyDisclosure:function(a){if(a&&!a.isComponent){a=",298439,33,"getDisclosure())}return a},updateDisclosure:function(b,a){if(b){this.element.appendChild(b.renderElement)}else{if(a){a.destroy()}}},updateRecord:function(c){var d=this,b=d.dataview||this.getDataview(),e=c&&b.prepareData(c.getData(true),b.getStore().indexOf(c),c),f=this.getDisclosure();d.updateData(e||null);if(f&&c&&b.getOnItemDisclosure()){var a=b.getDisclosureProperty();f[(e.hasOwnProperty(a)&&e[a]===false)?\"hide\":\"show\"]()}d.fireEvent(\"updatedata\",d,e",281129,42,"Header(),this.getDisclosur",230847,33,");Ext.define(\"Ext.util.PositionMap\",{config:{minimumHeight:",205741,33,"map=[];this.adjustments={};this.offset=0;this.initConfig(a)},populate:function(d,g){var f=this.map=this.map||[],a=this.getMinimumHeight(),b,e,c;d++;f.length=d;f[0]=0;for(b=g+1,c=d-1;b<=c;b++){e=b-1;f[b]=f[e]+a}this.adjustments={indices:[],heights:{}};this.offset=0;for(b=1,c=d-1;b<=c;b++){e=b-1;this.offset+=f[b]-f[e]-a}},setItemHeight:function(b,a){a=Math.max(a,this.getMinimumHeight());if(a!==this.getItemHeight(b)){var c=this.adjustments;c.indices.push(parseInt(b,10));c.heights[b]=a}},update:function(){var d=this.adjustments,n=d.indices,l=d.heights,a=this.map,k=n.length,o=this.getMinimumHeight(),c=0,f,e,m,h,g,b;if(!d.indices.length){return false}Ext.Array.sort(n,function(j,i){return j-i});for(f=0;f<k;f++){h=n[f];g=n[f+1]||a.length-1;b=(a[h+1]!==undefined)?(a[h+1]-a[h]+c):o;m=l[h];c+=m-b;for(e=h+1;e<=g;e++){a[e]+=c}}this.offset+=c;this.adjustments={indices:[],heights:{}};return true},getItemHeight:function(a){return this.map[a+1]-this.map[a]},getTotalHeight:function(){return((this.map.length-1)*this.getMinimumHeight())+this.offset},findIndex:function(a){return this.map.length?this.binarySearch(this.map,a):0},binarySearch:function(b,d){var f=0,a=b.length;if(d<b[0]){return 0}if(d>b[a-1]){return a-1}while(f+1<a){var c=(f+a)>>1,e=b[c];if(e==d){return c}else{if(e<d){f=c}else{a=c}}}return f}});Ext.define(\"Ext.dataview.List\",{alternateClassName:\"Ext.List\",extend:Ext.dataview.DataView,xtype:\"list\",mixins:[Ext.mixin.Bindable],config:{layout:\"fit\",indexBar:false,icon:null,preventSelectionOnDisclose:true,baseCls:Ext.baseCSSPrefix+\"list\",pinHeaders:true,grouped:false,onItemDisclosure:null,disclosureProperty:\"disclosure\",ui:\"normal\",defaultType:undefined,itemMap:{},itemHeight:47,variableHeights:false,refreshHeightOnUpdate:true,infinite:false,useSimpleItems:true,scrollable:null,striped:false",289501,37,"itemHeight:44}],topItemIndex:0",394222,34,",a;b.callParent(arguments)},beforeInitialize:function(){var d=this,b,e,c,a;Ext.apply(d,{listItems:[],headerItems:[],updatedItems:[],headerMap:[],scrollDockItems:{top:[],bottom:[]}});this.translationMethod=Ext.browser.is.AndroidStock2?\"cssposition\":\"csstransform\";b=d.container=Ext.factory({xtype:\"container\",scrollable:{scroller:{autoRefresh:!d.getInfinite(),direction:\"vertical\"}}});d.add(b);e=b.getScrollable();c=d.scrollViewElement=e.getElement();d.scrollElement=e.getScroller().getElement();d.setScrollable(e);d.scrollableBehavior=b.getScrollableBehavior();a=d.pinnedHeader=Ext.factory({xtype:\"listitemheader\",html:\"&nbsp;\"",222035,33,"this.translationMethod},cls:[\"x-list-header\",\"x-list-header-swap\"]});a.translate(0,-10000);a.$position=-10000;c.insertFirst(a.renderElement);d.bind(e.getScroller().getTranslatable(),\"doTranslate\",\"onTranslate\")},initialize:function(){var d=this,a=d.container,c=d.scrollViewElement,b=d.getIndexBar();if(b){c.appendChild(b.renderElement)}d.on(d.getTriggerCtEvent(),d.onContainerTrigger,d);d.on(d.getTriggerEvent(),d.onItemTrigger,d);a.element.on({delegate:\".\"+d.getBaseCls()+\"-disclosure\",tap:\"handleItemDisclosure\",scope:d});a.element",156010,32,"scope:d});a.innerElement.on({touchstart:\"onItemTouchStart\",touchend:\"onItemTouchEnd\",tap:\"onItemTap\",taphold:\"onItemTapHold\",singletap:\"onItemSingleTap\",doubletap:\"onItemDoubleTap\",swipe:\"onItemSwipe\",delegate:\".\"+Ext.baseCSSPrefix+\"list-item\",scope:d});if(d.getStore()){d.refresh()}},onTranslate:function(b,h){var f=this,a=f.pinnedHeader,c=f.getStore(),g=c&&c.getCount(),d=f.getGrouped(),e=f.getInfinite();if(!g){f.showEmptyText();f.showEmptyScrollDock();a.$position=-10000;a.translate(0,-10000)}else{if(e&&f.itemsCount){f.handleItemUpdates(h);f.handleItemHeights();f.handleItemTransforms()}}if(d&&f.groups.length&&f.getPinHeaders()){f.handlePinnedHeader(h)}},handleItemUpdates:function(g){var f=this,c=f.listItems,l=c.length,h=f.topItemIndex,a=f.getListItemInfo(),d=f.getItemMap(),b,e,k,j;f.topItemIndex=j=Math.max(0,d.findIndex(-g)||0);if(h!==j){if(h>j){b=Math.min(l,h-j);for(e=b-1;e>=0;e--){k=c.pop();c.unshift(k);f.updateListItem(k,e+j,a)}}else{b=Math.min(l,j-h);for(e=0;e<b;e++){k=c.shift();c.push(k);f.updateListItem(k,e+j+l-b,a)}}}},handleItemHeights:function(){var t=this,k=t.updatedItems,d=k.length,o=t.getItemMap(),b=t.getUseSimpleItems(),q=t.container.getScrollable().getScroller(),c=o.getMinimumHeight(),p=t.headerIndices,g=t.headerMap,f=q.getTranslatable(),h=t.getVariableHeights(),s,n,m,a,r,l,e;for(n=0;n<d;n++){r=k[n];s=r.$dataIndex;if(s!==null){if(h){l=b?r.element.getHeight():r.element.getFirstChild().getHeight();l=Math.max(l,c)}else{l=c}r.$ownItemHeight=l;a=t.scrollDockItems.top.length;if(r.isFirst){t.totalScrollDockTopHeight=0;for(m=0;m<a;m++){e=t.scrollDockItems.top[m].$scrollDockHeight;l+=e;t.totalScrollDockTopHeight+=e}}a=t.scrollDockItems.bottom.length;if(r.isLast){for(m=0;m<a;m++){e=t.scrollDockItems.bottom[m].$scrollDockHeight;l+=e}}if(p&&p[s]){l+=t.headerHeight}o.setItemHeight(s,l);r.$height=l}}o.update();l=o.getTotalHeight();g.length=0;for(n in p){if(p.hasOwnProperty(n)){g.push(o.map[n])}}if(l!=q.givenSize){q.setSize(l);q.refreshMaxPosition();q.fireEvent(\"refresh\",q);if(f.isAnimating&&f.activeEasingY&&f.activeEasingY.setMinMomentumValue){f.activeEasingY.setMinMomentumValue(-q.getMaxPosition().y)}}t.updatedItems.length=0},handleItemTransforms:function(){var h=this,a=h.listItems,m=a.length,b=h.getItemMap(),k=h.scrollDockItems,f=h.getGrouped(),l,d,e,g,c;for(e=0;e<m;e++){l=a[e];d=b.map[l.$dataIndex];if(!l.$hidden&&l.$position!==d){l.$position=d;g=k.top.length;if(l.isFirst&&g){for(c=0;c<g;c++){k.top[c].translate(0,d);d+=k.top[c].$scrollDockHeight}}if(f&&h.headerIndices&&h.headerIndices[l.$dataIndex]){l.getHeader().translate(0,d);d+=h.headerHeight}l.translate(0,d);d+=l.$ownItemHeight;g=k.bottom.length;if(l.isLast&&g){for(c=0;c<g;c++){k.bottom[c].translate(0,d);d+=k.bottom[c].$scrollDockHeight}}}}},handlePinnedHeader:function(m){var l=this,c=l.pinnedHeader,f=l.getItemMap(),e=l.groups,k=l.headerMap,h=l.headerHeight,n=l.getStore(),d=l.totalScrollDockTopHeight,i,b,j,g,a;b=f.binarySearch(k,-m);i=e[b].children[0];if(i){j=m+k[b+1]-h;if(m>=0||(b===0&&d+m>=0)||(b===0&&-m<=k[b])){g=-10000}else{if(j<0){g=j}else{g=Math.max(0,m)}}a=n.getGroupString(i);if(c.$currentHeader!=a){c.setHtml(a);c.$currentHeader=a}if(c.$position!=g){c.translate(0,g);c.$position=g}}},createItem:function(c){var h=this,a=h.container,d=h.listItems,f=h.getInfinite(),g=h.scrollElement,i,e,b;i=Ext.factory(c);i.dataview=h;i.$height=c.minHeight;e=i.getHeader();if(!f){b=h.getBaseCls()+\"-item-relative\";i.addCls(b);e.addCls(b)}else{e.setTranslatable({translationMethod:this.translationMethod});e.translate(0,-10000);g.insertFirst(e.renderElement)}a.doAdd(i);d.push(i);return i},setItemsCount:function(a){var d=this,e=d.listItems,b=d.getListItemConfig(),f=a-e.length,c;for(c=0;c<f;c++){d.createItem(b)}for(c=f;c<0;c++){e.pop().destroy()}d.itemsCount=a;d.updateAllListItems();return d.listItems},updateUi:function(a,b){if(a&&a!=b&&a==\"round\"){this.setPinHeaders(false)}",205103,34,"ListItem:function(s,d,r){var u=this,a=r.store.getAt(d),o=u.headerIndices,b=u.footerIndices,m=s.getHeader(),p=u.scrollDockItems,h=u.updatedItems,g=s.renderElement.classList,k=m.renderElement.classList,e=u.getInfinite(),q=r.store.getCount(),t=[],j=[],n=[r.headerCls,r.footerCls,r.firstCls,r.lastCls,r.selectedCls,r.stripeCls],v=[r.headerCls,r.footerCls,r.firstCls,r.lastCls],f,l,c;if(e){s.$position=-10000}if(!a){s.setRecord(null);if(e){s.translate(0,-10000);m.translate(0,-10000)}else{s.hide();m.hide()}s.$hidden=true;return}else{if(s.$hidden){if(!e){s.show()}s.$hidden=false}}if(e){h.push(s)}if(s.isFirst&&d!==0&&p.top.length){for(l=0,f=p.top.length;l<f;l++){c=p.top[l];if(e){c.translate(0,-10000)}}s.isFirst=false}if(s.isLast&&d!==q-1&&p.bottom.length){for(l=0,f=p.bottom.length;l<f;l++){c=p.bottom[l];if(e){c.translate(0,-10000)}}s.isLast=false}if(s.$dataIndex!==d){s.$dataIndex=d;u.fireEvent(\"itemindexchange\",u,a,d,s)}if(s.getRecord()===a){s.updateRecord(a)}else{s.setRecord(a)}if(u.isSelected(a)){t.push(r.selectedCls)}if(r.grouped){if(o[d]){t.push(r.headerCls);j.push(r.headerCls);m.setHtml(r.store.getGroupString(a));if(!e){m.renderElement.insertBefore(s.renderElement);m.show()}}else{if(e){m.translate(0,-10000)}else{m.hide()}}if(b[d]){t.push(r.footerCls);j.push(r.footerCls)}}if(d===0){s.isFirst=true;t.push(r.firstCls);j.push(r.firstCls);if(!r.grouped){t.push(r.headerCls);j.push(r.headerCls)}if(!e){for(l=0,f=p.top.length;l<f;l++){c=p.top[l];if(r.grouped){c.renderElement.insertBefore(m.renderElement)}else{c.renderElement.insertBefore(s.renderElement)}}}}if(d===q-1){s.isLast=true;t.push(r.lastCls);j.push(r.lastCls);if(!r.grouped){t.push(r.footerCls);j.push(r.footerCls)}if(!e){for(l=0,f=p.bottom.length;l<f;l++){c=p.bottom[l];c.renderElement.insertAfter(s.renderElement)}}}if(r.striped&&d%2==1){t.push(r.stripeCls)}if(g){for(l=0;l<n.length;l++){Ext.Array.remove(g,n[l])}t=Ext.Array.merge(t,g)}if(k){for(l=0;l<v.length;l++){Ext.Array.remove(k,v[l])}j=Ext.Array.merge(j,k)}s.renderElement.setCls(t);m.renderElement.setCls(j)},updateAllListItems:function(){var e=this,b=e.getStore(),a=e.listItems,f=e.getListItemInfo(),g=e.topItemIndex,c,d;if(b){for(c=0,d=a.length;c<d;c++){e.updateListItem(a[c],g+c,f)}}if(e.isPainted()){if(e.getInfinite()&&b&&b.getCount()){e.handleItemHeights()}e.refreshScroller()}},doRefresh:function(){var c=this,b=c.getInfinite(),a=c.container.getScrollable().getScroller(),d=c.getStore().getCount();if(b){c.getItemMap().populate(d,this.topItemIndex)}if(c.getGrouped()){c.refreshHeaderIndices()}if(d){c.hideScrollDockItems();c.hideEmptyText();if(!b){c.setItemsCount(d);if(c.getScrollToTopOnRefresh()){a.scrollTo(0,0)}}else{if(c.getScrollToTopOnRefresh()){c.topItemIndex=0;a.position.y=0}c.updateAllListItems()}}else{c.onStoreClear()}",226300,34,"var c=this;if(!c.headerHeight){c.headerHeight=parseInt(c.pinnedHeader.renderElement.getHeight(),10)}if(c.getInfinite()){c.setItemsCount(Math.ceil(b.height/c.getItemMap().getMinimumHeight())+1)}else{if(c.listItems.length&&c.getGrouped()&&c.getPinHeaders()){c.updateHeaderMap()}}},refreshScroller:function(){var a=this;if(a.isPainted()){if(!a.getInfinite()&&a.getGrouped()&&a.getPinHeaders()){a.updateHeaderMap()}a.container.getScrollable().getScroller().refresh()}},updateHeaderMap:function(){var c=this,b=c.headerMap,d=c.headerIndices,e,a;b.length=0",371612,37,"e=c.getItemAt(a).getHeader();b.push(e.renderElement.dom.offsetTop)}}},applyVariableHeights:function(a){if(!this.getInfinite()){return true}return a},applyDefaultType:function(a){if(!a){a=this.getUseSimpleItems()?\"simplelistitem\":\"listitem\"}return a},applyItemMap",250272,34,"Ext.util.PositionMap,this.getItemMap())},updateItemHeight:function(a){this.getItemMap().setMinimumHeight(a)},applyIndexBar",250272,34,"Ext.dataview.IndexBar,this.getIndexBar())},updatePinHeaders:function(a){if(this.isPainted()){this.pinnedHeader.translate(0,a?this.pinnedHeader.$position:-10000)}},updateItemTpl:function(f){var d=this,e=d.listItems,c=e.length||0,a,b;for(a=0;a<c;a++){b=e[a];b.setTpl(f)}d.updateAllListItems()},updateItemCls:function(f,c){var a=this.listItems,e=a.length,b,d;for(b=0;b<e;b++){d=a[b];d.removeCls(c);d.addCls(f)}},updateIndexBar:function(a,d){var c=this,b=c.scrollViewElement;if(d){d.un({index:\"onIndex\",scope:c});if(!a){c.element.removeCls(c.getBaseCls()+\"-indexed\")}if(b){b.removeChild(d.renderElement)}}if(a){a.on({index:\"onIndex\",scope:c});if(!d){c.element.addCls(c.getBaseCls()+\"-indexed\")}if(b){b.appendChild(a.renderElement)}}},updateGrouped:function(d){var f=this,c=this.getBaseCls(),a=f.pinnedHeader,b=c+\"-grouped\",e=c+\"-ungrouped\";if(a){a.translate(0,-10000)}if(d){f.addCls(b);f.removeCls(e)}else{f.addCls(e);f.removeCls(b)}f.updateAllListItems()},onStoreAdd:function(){this.doRefresh()},onStoreRemove:function(){this.doRefresh()},onStoreUpdate:function(){this.doRefresh()},onStoreClear:function(){var c=this,a=c.container.getScrollable().getScroller(),b=c.getInfinite();if(c.pinnedHeader){c.pinnedHeader.translate(0,-10000)}if(!b){c.setItemsCount(0);a.scrollTo(0,0)}else{c.topItemIndex=0;a.position.y=0;c.updateAllListItems()}},showEmptyScrollDock:function(){var e=this,d=e.getInfinite(),f=e.scrollDockItems,g=0,a,c,b;for(a=0,c=f.top.length;a<c;a++){b=f.top[a];if(d){b.translate(0,g);g+=b.$scrollDockHeight}else{this.scrollElement.appendChild(b.renderElement)}}for(a=0,c=f.bottom.length;a<c;a++){b=f.bottom[a];if(d){b.translate(0,g);g+=b.$scrollDockHeight}else{this.scrollElement.appendChild(b.renderElement)}}},hideScrollDockItems:function(){var e=this,d=e.getInfinite(),f=e.scrollDockItems,a,c,b;if(!d){return}for(a=0,c=f.top.length;a<c;a++){b=f.top[a];b.translate(0,-10000)}for(a=0,c=f.bottom.length;a<c;a++){b=f.bottom[a];b.translate(0,-10000)}},getItemAt:function(a){var e=this.listItems",297105,40,"if(c.$dataIndex==a){return c}}},getItemIndex:function(a){return a.$dataIndex},getViewItems:function(){return this.listItems},getListItemInfo:function(){var b=this,a=b.getBaseCls();return{store:b.getStore(),grouped:b.getGrouped(),baseCls:a,selectedCls:b.getSelectedCls(),headerCls:a+\"-header-wrap\",footerCls:a+\"-footer-wrap\",firstCls:a+\"-item-first\",lastCls:a+\"-item-last\",stripeCls:a+\"-item-odd\",striped:b.getStriped(),itemMap:b.getItemMap(),defaultItemHeight:b.getItemHeight()}},getListItemConfig:function(){var c=this,a=c.getItemMap().getMinimumHeight(),b={xtype:c.getDefaultType(),itemConfig:c.getItemConfig(),tpl:c.getItemTpl(),minHeight:a,cls:c.getItemCls()};if(c.getInfinite()){b.translatable={translationMethod:this.translationMethod}}if(!c.getVariableHeights()){b.height=a}return b},refreshHeaderIndices:function(){var g=this,h=g.getStore(),d=h&&h.getCount(),c=h.getGroups(),k=c.length,l=g.headerIndices={},j=g.footerIndices={},e,b,a,f;g.groups=c;for(e=0;e<k;e++){a=c[e].children[0];f=h.indexOf(a);l[f]=true;b=f-1;if(b>=0){j[b]=true}}j[d-1]=true;return l},onIndex:function(d,k){var m=this,p=k.toLowerCase(),n=m.getStore(),e=n.getGroups(),l=e.length,j=m.container.getScrollable().getScroller(),o,h,c,b;for(h=0;h<l;h++){o=e[h];b=o.name.toLowerCase();if(b>=p){c=o;break}else{c=o}}if(c){k=n.indexOf(c.children[0]);j.stopAnimation();var a=j.getContainerSize().y,q=j.getSize().y,f=q-a,g=m.getInfinite()?m.getItemMap().map[k]:m.listItems[k].getHeader().renderElement.dom.offsetTop;j.scrollTo(0,Math.min(g,f))}},onItemAdd:function(c){var b=this,a=c.config;if(a.scrollDock){if(a.scrollDock==\"bottom\"){b.scrollDockItems.bottom.push(c)}else{b.scrollDockItems.top.push(c)}if(b.getInfinite()){c.on({resize:\"onScrollDockItemResize\",scope:this});c.addCls(b.getBaseCls()+\"-scrolldockitem\");c.setTranslatable({translationMethod:this.translationMethod});c.translate(0,-10000);c.$scrollDockHeight=0}b.container.doAdd(c)}else{b.callParent(arguments)}},getScrollDockedItems:function(){return this.scrollDockItems.bottom.slice().concat(this.scrollDockItems.top.slice())},onScrollDockItemResize:function(g,c){var f=this,a=f.listItems,e=a.length,b,d;Ext.getCmp(g.id).$scrollDockHeight=c.height",254922,32,"Last){this.updatedItems.push(d);this.refreshScroller();break}}},onItemTouchStart:function(a){this.container.innerElement.on({touchmove:\"onItemTouchMove\",delegate:\".\"+Ext.baseCSSPrefix+\"list-item\",single:true,scope:this});this.callParent(this.parseEvent(a))},onItemTouchMove:function(a){this.callParent(this.parseEvent(a))},onItemTouchEnd:function(a){this.container.innerElement.un({touchmove:\"onItemTouchMove\",delegate:\".\"+Ext.baseCSSPrefix+\"list-item\",scope:this});this.callParent(this.parseEvent(a))},onItemTap:function(a){this.callParent(this.parseEvent(a))},onItemTapHold:function(a){this.callParent(this.parseEvent(a))},onItemSingleTap:function(a){this.callParent(this.parseEvent(a))},onItemDoubleTap:function(a){this.callParent(this.parseEvent(a))},onItemSwipe:function(a){this.callParent(this.parseEvent(a))},parseEvent:function(d){var b=this,c=Ext.fly(d.getTarget()).findParent(\".\"+Ext.baseCSSPrefix+\"list-item\",8),a=Ext.getCmp(c.id);return[b,a,a.$dataIndex,d]},applyOnItemDisclosure:function(a){if(Ext.isFunction(a)){return{scope:this,handler:a}}return a},handleItemDisclosure:function(f){var d=this,c=Ext.getCmp(Ext.get(f.getTarget()).up(\".x-list-item\").id),b=c.$dataIndex,a=d.getStore().getAt(b);d.fireAction(\"disclose\",[d,a,c,b,f],\"doDisclose\")},doDisclose:function(f,a,d,c,g){var b=f.getOnItemDisclosure();if(b&&b.handler){b.handler.call(b.scope||f,a,d,c,g)}},onItemTrigger:function(c,b,f,a,d){if(!(this.getPreventSelectionOnDisclose()&&Ext.fly(d.target).hasCls(this.getBaseCls()+\"-disclosure\"))){this.callParent(arguments)}}});Ext.define(\"Ext.dataview.NestedList\",{alternateClassName:\"Ext.NestedList\",extend:Ext.Container,xtype:\"nestedlist\"",259840,36,"nested-list\",backText:\"Back\",useTitleAsBackText:true,updateTitleText:true,displayField:\"text\",loadingText:\"Loading...\",emptyText:\"No items available.\",onItemDisclosure:false,allowDeselect:false,useToolbar:null,toolbar",464436,32,"ui:\"light\",inline:true},title:\"",447767,47,"uration:250,direction:\"left\"}},store:null,detailContainer:undefined,detailCard:null,backButton:{ui:\"back\",hidden:true},listConfig:null,useSimpleItems:true,itemHeight:47,variableHeights:false,lastNode:null,lastActiveList:null,ui",289496,42,"itemHeight:42}]",347903,34,"Object(a)){if(a.getTitleTextTpl){this.getTitleTextTpl=a.getTitleTextTpl}if(a.getItemTextTpl){this.getItemTextTpl=a.getItemTextTpl}}this.callParent(arguments)},onItemInteraction:function(){if(this.isGoingTo){return false}},applyDetailContainer:function(a){if(!a){a=this}return a},updateDetailContainer:function(a,b){",192577,39,"BeforeDetailContainerChange\",this);a.onAfter(\"activeitemchange\",\"onDetailContainerChange\",this)}},onBeforeDetailContainerChange:function(){this.isGoingTo=true},onDetailContainerChange:function(){this.isGoingTo=false},onItemTap:function(g,c,i,a,h){var f=this,b=g.getStore(),d=b.getAt(c);f.fireEvent(\"itemtap\",this,g,c,i,a,h);if(d.isLeaf()){f.fireEvent(\"leafitemtap\",this,g,c,i,a,h);f.goToLeaf(d)}else{this.goToNode(d)}},onBeforeSelect:function(){this.fireEvent.apply(this,[].concat(\"beforeselect\",this,",25023,36,")))},onContainerTap:function(){this.fireEvent.apply(this,[].concat(\"containertap\",this,",25023,36,")))},onSelection",274751,32,".apply(this,[].concat(\"selectionchange\",this,",25023,36,")))},onItemDoubleTap:function(){this.fireEvent.apply(this,[].concat(\"itemdoubletap\",this,",25023,36,")))},onStoreBeforeLoad:function(){var a=this.getLoadingText(),b=this.getScrollable();if(a){this.setMasked({xtype:\"loadmask\",message:a});if(b){b.getScroller().setDisabled(true)}}this.fireEvent.apply(this,[].concat(\"beforeload\",this,",25023,36,")))},onStoreLoad:function(c,b,d,a){this.setMasked(false);this.fireEvent.apply(this,[].concat(\"load\",this,",25023,36,")));if(c.indexOf(this.getLastNode())===-1){this.goToNode(c.getRoot())}},onBackTap:function(){var d=this,c=d.getLastNode(),e=d.getDetailCard(),a=e&&d.getActiveItem()==e,b=d.getLastActiveList();this.fireAction(\"back\",[this,c,b,a],\"doBack\")},doBack:function(e,d,c,a){var b=e.getLayout(),f=(b)?b.getAnimation():null;if(a&&c){if(f){f.setReverse(true)}e.setActiveItem(c);e.setLastNode(d.parentNode);e.syncToolbar()}else{this.goToNode(d.parentNode)}},updateData:function(a){if(!this.getStore()){this.setStore(new Ext.data.TreeStore({root:a}))}},applyStore",355120,41,"Ext.data.StoreManager.get(a)}else{if(!(a instanceof Ext.data.TreeStore)){a=Ext.factory(a,Ext.data.TreeStore,null)}}}return a},storeListeners:{rootchange:\"onStoreRootChange\",load:\"onStoreLoad\",beforeload:\"onStoreBeforeLoad\"},updateStore:function(a,d){var c=this,b=this.storeListeners;b.scope=c;if(d&&Ext.isObject(d)&&d.isStore){if(d.autoDestroy){d.destroy()}d.un(b)}if(a){c.goToNode(a.getRoot());a.on(b)}},onStoreRootChange:function(a,b){this.goToNode(b)},applyBackButton",250272,34,"Ext.Button,this.getBackButton())},applyDetailCard:function(a,b){if(a===null",280240,36,",b)}else{",298432,34,")}},updateBackButton:function(b,a){if(b){var c=this;b.on(\"tap\",c.onBackTap,c);b.setText(c.getBackText());c.getToolbar().insert(0,b)}else{if(a){a.destroy()}}},applyToolbar",250272,34,"Ext.TitleBar,this.getToolbar())},updateToolbar:function(a,b){var c=this;if(a){a.setTitle(c.getTitle());if(!a.getParent()){c.add(a)}}else{if(b){b.destroy()}}},updateUseToolbar:function(a,b){if(!a){this.setToolbar(false)}},updateTitle:function(c){var b=this,a=b.getToolbar();if(a){if(b.getUpdateTitleText()){a.setTitle(c)}}},getItemTextTpl:function(a){return\"{\"+this.getDisplayField()+\"}\"},getTitleTextTpl:function(a){return\"{\"+this.getDisplayField()+\"}\"},renderTitleText:function(b,c){if(!b.titleTpl){b.titleTpl=Ext.create(\"Ext.XTemplate\",this.getTitleTextTpl(b))}if(b.isRoot()){var a=this.getInitialConfig(\"title\");return(c&&a===\"\")?this.getInitialConfig(\"backText\"):a}return b.titleTpl.applyTemplate(b.data)},goToNode:function(a){if(!a){return}var i=this,d=i.getActiveItem(),k=i.getDetailCard(),j=k&&i.getActiveItem()==k,h=i.goToNodeReverseAnimation(a),c=i.firstList,e=i.secondList,f=i.getLayout(),b=(f)?f.getAnimation():null,g;if(a.isLeaf()){throw new Error(\"goToNode: passed a node which is a leaf.\")}if(a==i.getLastNode()&&!j){return}if(j){if(b){b.setReverse(true)}g=i.getLastActiveList();g.getStore().setNode(a);a.expand();i.setActiveItem(g)}else{if(b){b.setReverse(h)}if(c&&e){d=i.getActiveItem();i.setLastActiveList(d);g=(d==c)?e:c;g.getStore().setNode(a);a.expand();i.setActiveItem(g);g.deselectAll()}else{if(c){i.setLastActiveList(i.getActiveItem());i.setActiveItem(i.getList(a));i.secondList=i.getActiveItem()}else{i.setActiveItem(i.getList(a));i.firstList=i.getActiveItem()}}}i.fireEvent(\"listchange\",this,i.getActiveItem());i.setLastNode(a);i.syncToolbar()},goToLeaf:function(f){if(!f.isLeaf()){throw new Error(\"goToLeaf: passed a node which is not a leaf.\")}var e=this,c=e.getDetailCard(f),b=e.getDetailContainer(),a=b==this,d=e.getLayout(),g=(d)?d.getAnimation():false;if(c){if(b.getItems().indexOf(c)===-1){b.add(c)}if(a){if(e.getActiveItem() instanceof Ext.dataview.List){e.setLastActiveList(e.getActiveItem())}e.setLastNode(f)}if(g){g.setReverse(false)}b.setActiveItem(c);e.syncToolbar()}},syncToolbar:function(g){var e=this,f=e.getDetailCard(),d=e.getLastNode(),b=g||(f&&(e.getActiveItem()==f)),a=(b)?d:d.parentNode,c=e.getBackButton();if(c){c[a?\"show\":\"hide\"]();if(a&&e.getUseTitleAsBackText()){c.setText(e.renderTitleText(d.parentNode,true))}}if(d){e.setTitle(e.renderTitleText(d))}},updateBackText:function(a){this.getBackButton().setText(a)},goToNodeReverseAnimation:function(c){var b=this,a=b.getLastNode();if(!a){return false}return(!a.contains(c)&&a.isAncestor(c))?true:false},getList:function(b){var a=this,c=Ext.create(\"Ext.data.NodeStore\",{recursive:false,node:b,rootVisible:false,model:a.getStore().getModel()});b.expand();return Ext.Object.merge({xtype:\"list\",useSimpleItems:a.getUseSimpleItems(),pressedDelay:250,autoDestroy:true,store:c,onItemDisclosure:a.getOnItemDisclosure(),allowDeselect:a.getAllowDeselect(),itemHeight:a.getItemHeight(),variableHeights:a.getVariableHeights(),listeners:[{event:\"itemdoubletap\",fn:\"onItemDoubleTap\",scope:a},{event:\"itemtap\",fn:\"onItemInteraction\",scope:a,order:\"before\"},{event:\"itemtouchstart\",fn:\"onItemInteraction\",scope:a,order:\"before\"},{event:\"itemtap\",fn:\"onItemTap\",scope:a},{event:\"beforeselectionchange\",fn:\"onBeforeSelect\",scope:a},{event:\"containertap\",fn:\"onContainerTap\",scope:a},{event:\"selectionchange\",fn:\"onSelectionChange\",order:\"before\",scope:a}],itemTpl:'<span<tpl if=\"leaf == true\"> class=\"x-list-item-leaf\"</tpl>>'+a.getItemTextTpl(b)+\"</span>\"},this.getListConfig()",282044,34,398946,37755,"ield.Checkbox\",{extend:Ext.field.Field,alternateClassName:\"Ext.form.Checkbox\",xtype:\"checkboxfield\",qsaLeftRe:/[\\[]/g,qsaRightRe:/[\\]]/g,isCheckbox:true,config:{ui:\"checkbox\",value:\"\",checked:false,tabIndex:-1",291419,32,"checkbox\",useMask:true,cls:Ext.baseCSSPrefix+\"input-checkbox\"}",289501,49,"left\"}],initialize:function(){var b=this,a=b.getComponent();b.callParent();a.on({scope:b,order:\"before\",masktap:\"onMaskTap\"});a.doMaskTap=Ext.emptyFn;b.label.on({scope:b,tap:\"onMaskTap\"})},doInitValue:function(){var a=this,b=a.getInitialConfig();if(b.hasOwnProperty(\"value\")){a.originalState=b.value}if(b.hasOwnProperty(\"checked\")){a.originalState=b.checked}a.callParent(arguments",292682,148,"getChecked:function(){this._checked=this.getComponent().getChecked();return this._checked},getSubmitValue:function(){return(this.getChecked())?Ext.isEmpty(this._value)?true:this._value:null",286413,44,"a",286477,50,"getComponent().setChecked(a);if(",285227,32,")}},onMaskTap:function(a,c){var b=this,d=b.getComponent().input.dom;if(b.getDisabled()){return false}d.checked=!d.checked;b.onChange(c);return false},onChange:function(d){var c=this,b=c._checked,a=c.getChecked();if(b!=a){if(a){c.fireEvent(\"check\",c,d)}else{c.fireEvent(\"uncheck\",c,d)}c.fireEvent(\"change\",c,a,b)}},doChecked:Ext.emptyFn,doUnChecked:Ext.emptyFn,isChecked:function(){return this.getChecked()},check:function(){return this.setChecked(true)},uncheck:function(){return this.setChecked(false)},getSameGroupFields:function(){var j=this.up(\"formpanel\")||this.up(\"fieldset\"),b=this.getName(),g=this.qsaLeftRe,c=this.qsaRightRe,f=[],a,d,e,h;if(!j){j=Ext.Viewport}b=b.replace(g,\"\\\\[\");b=b.replace(c,\"\\\\]\");a=Ext.query(\"[name=\"+b+\"]\",j.element.dom);h=a.length;for(e=0;e<h;e++){d=a[e];d=Ext.fly(d).up(\".x-field\");if(d&&d.id){f.push(Ext.getCmp(d.id))}}return f},getGroupValues:function(){var a=[];this.getSameGroupFields().forEach(function(b){if(b.getChecked()){a.push(b.getValue())}});return a},setGroupValues:function(a){this.getSameGroupFields().forEach(function(b){b.setChecked((a.indexOf(b.getValue())!==-1))});return this},resetGroupValues:function(){this.getSameGroupFields().forEach(function(a){a.setChecked(a.originalState)});return this},reset:function(){this.setChecked(this.originalState)",399253,32,"picker.Slot\",{extend:Ext.dataview.DataView,xtype:\"pickerslot\",alternateClassName:\"Ext.Picker.Slot\",isSlot:true,config:{title:null,showTitle:true,cls:Ext.baseCSSPrefix+\"picker-slot\",name:null,value:null,flex:1,align:\"left\",displayField:\"text\",valueField:\"value\",itemTpl:null,scrollable:{direction:\"vertical\",indicators:false,momentumEasing:{minVelocity:2},slotSnapEasing:{duration:100}},verticallyCenterItems:true",289501,37,"title:\"choose an item\"}],constructor:function(){this.selectedIndex=0;this.callParent(arguments)},applyTitle:function(a){if(a){a=Ext.create(\"Ext.Component\",{cls:Ext.baseCSSPrefix+\"picker-slot-title\",docked:\"top\",html:a})}return a",282845,45,";this.setupBar()}if(a){this.remove(a)}},updateShowTitle:function(a){var c=this.getTitle(),b=a?\"show\":\"hide\";if(c){c.on(b,this.setupBar,this,{single:true,delay:50});c[a?\"show\":\"hide\"]()}},updateDisplayField:function(a){if(!this.config.itemTpl){this.setItemTpl('<div class=\"'+Ext.baseCSSPrefix+'picker-item {cls} <tpl if=\"extra\">'+Ext.baseCSSPrefix+'picker-invalid</tpl>\">{'+a+\"}</div>\")}},updateAlign:function(a,c){var b=this.element;b.addCls(Ext.baseCSSPrefix+\"picker-\"+a);b.removeCls(Ext.baseCSSPrefix+\"picker-\"+c)},applyData:function(d){var f=[],c=d&&d.length,a,b,e;if(d&&Ext.isArray(d)&&c){for(a=0;a<c;a++){b=d[a];e={};if(Ext.isArray(b)){e[this.valueField]=b[0];e[this.displayField]=b[1]}else{if(Ext.isString(b)){e[this.valueField]=b;e[this.displayField]=b}else{if(Ext.isObject(b)){e=b}}}f.push(e)}}return d",246797,33,"Parent();var a=this.getScrollable().getScroller();this.on({scope:this,painted:\"onPainted\",itemtap:\"doItemTap\"});a.on({scope:this,scrollend:\"onScrollEnd\"})},onPainted:function(){this.setupBar()},getPicker:function(){if(!this.picker){this.picker=this.getParent()}return this.picker},setupBa",452342,32,"return}var a=this.element,e=this.innerElement,f=this.getPicker(),g=f.bar,k=this.getValue(),b=this.getShowTitle(),j=this.getTitle(),h=this.getScrollable(),d=h.getScroller(),c=0,l,i;l=g.dom.getBoundingClientRect().height;if(b&&j){c=j.element.getHeight()}i=Math.ceil((a.getHeight()-c-l)/2);if(this.getVerticallyCenterItems()){e.setStyle({padding:i+\"px 0 \"+i+\"px\"})}d.refresh();d.setSlotSnapSize(l);this.setValue(k)},doItemTap:function(d,a,c,f){var b=this;b.selectedIndex=a;b.selectedNode=c;b.scrollToItem(c,true)},scrollToItem:function(e,d){var h=e.getY(),c=e.parent(),f=c.getY(),b=this.getScrollable(),a=b.getScroller(),g;g=h-f;a.scrollTo(0,g,d)},onScrollEnd:function(b,a,g){var f=this,d=Math.round(g/f.picker.bar.dom.getBoundingClientRect().height),c=f.getViewItems(),e=c[d];if(e){f.selectedIndex=d;f.selectedNode=e;f.fireEvent(\"slotpick\",f,f.getValue(),f.selectedNode)}},get",291949,32,"Store(),a,d;if(!b){return}if(!this.rendered||!c){return this._value}if(this._value===false){return null}a=b.getAt(this.selectedIndex);d=a?a.get(this.getValueField()):null;return d},set",94014,32,"SetValue(a)},setValueAnimated:function(a){return this.doSetValue(a,true)},doSetValue:function(g,f){if(!this.rendered){this._value=g;return}var b=this.getStore(),a=this.getViewItems(),d=this.getValueField(),c,e;c=b.findExact(d,g);if(c==-1){c=0}e=Ext.get(a[c]);this.selectedIndex=c;if(e){this.scrollToItem(e,(f)?{duration:100}:false);this.select(this.selectedIndex)}this._value=g}});Ext.define(\"Ext.picker.Picker\",{extend:Ext.Sheet,alias:\"widget.picker\",alternateClassName:\"Ext.Picker\",isPicker",289312,41,"picker\",doneButton:true,cancelButton:true,useTitles:false,slots:null,value:null,height:220,layout:{type:\"hbox\",align:\"stretch\"},centered:false,left:0,right:0,bottom:0,defaultType:\"pickerslot\",toolbarPosition:\"top\",toolbar:{xtype:\"titlebar\"}",289501,37,"height:\"100%\",toolbarPosition:\"bottom\",toolbar:{xtype:\"toolbar",297876,36,"},doneButton:{iconCls:\"check2\",ui:\"round\",text:\"\"},cancelButton:{iconCls:\"delete\",ui:\"round\",text:\"\"}}],initialize:function(){var b=this,a=Ext.baseCSSPrefix,c=this.innerElement;this.mask=c.createChild({cls:a+\"picker-mask\"});this.bar=this.mask.createChild({cls:a+\"picker-bar\"});b.on({scope:this,delegate:\"pickerslot\",slotpick:\"onSlotPick\"});b",246903,43,"applyToolb",448757,33,"Ext.applyIf(a,{docked:this.getToolbarPosition()});return Ext.factory(a,\"Ext.TitleBar\",this.getToolbar())},updateToolbar",299020,56,"applyDoneButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{ui:\"action\",align:\"right\",text:\"Done\"})}return Ext.factory(a,\"Ext.Button\",this.getDoneButton())},updateDoneButton:function(c,a){var b=this.getToolbar();if(c){b.add(c);c.on(\"tap\",this.onDoneButtonTap,this)}else{if(a){b.remove(a)}}},applyCancelButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{align:\"left\",text:\"Cancel\"})}return Ext.factory(a,\"Ext.Button\",this.getCancelButton())},updateCancelButton:function(b,a){var c=this.getToolbar();if(b){c.add(b);b.on(\"tap\",this.onCancelButtonTap,this)}else{if(a){c.remove(a)}}},updateUseTitles:function(d){var f=this.getInnerItems(),e=f.length,a=Ext.baseCSSPrefix+\"use-titles\",c,b;if(d",290637,40,"for(c=0;c<e;c++){b=f[c];if(b.isSlot){b.setShowTitle(d)}}},applySlots:function(b){if(b){var c=b.length,a;for(a=0;a<c;a++){b[a].picker=this}}return b},updateSlots:function(a){var b=Ext.baseCSSPrefix,c;this.removeAll();if(a){this.add(a)}c=this.getInnerItems();if(c.length>0){c[0].addCls(b+\"first\");c[c.length-1].addCls(b+\"last\")}this.updateUseTitles(this.getUseTitles())},onDoneButtonTap:function(){var a=this._value,b=this.getValue(true);if(b!=a){this.fireEvent(\"change\",this,b)}this.hide();",246964,33,"},onCancelButtonTap:function(){this.fireEvent(\"cancel\",this);this.hide();",246964,33,"},onSlotP",288319,32,"pick\",this,this.getValue(true),a)},show:function(){if(this.getParent()===undefined){Ext.Viewport.add(this",448447,32,"!this.isHidden()){this.setValue(this._value)}this.inputBlocker.blockInputs()},setValue:function(k,a){var f=this,d=f.getInnerItems(),e=d.length,j,h,c,b,g;if(!k){k={};for(b=0;b<e;b++){k[d[b].config.name]=null}}for(j in k){h=null;g=k[j];for(b=0;b<d.length;b++){c=d[b];if(c.config.name==j){h=c;break}}if(h){if(a){h.setValueAnimated(g)}else{h.setValue(g)}}}f._values=f._value=k;return f},setValueAnimated:function(a){this.setValue(a,true)},getValue:function(c){var b={},a=this.getItems().items,f=a.length,e,d;if(c){for(d=0;d<f;d++){e=a[d];if(e&&e.isSlot){b[e.getName()]=e.getValue(c)}}this._values=b}return this._values",119757,38,"Value()",208952,37,");Ext.destroy(this.mask,this.bar",282044,34,"picker.Date\",{extend:Ext.picker.Picker,xtype:\"datepicker\",alternateClassName:\"Ext.DatePicker\",config:{yearFrom:1980,yearTo:new Date().getFullYear(),monthText:\"Month\",dayText:\"Day\",yearText:\"Year\",slotOrder:[\"month\",\"day\",\"year\"],doneButton:true",289501,37,"doneButton:{iconCls:\"check2\",ui:\"round\",text:\"\"}}]",246798,32,"Parent();this.on({scope:this,delegate:\"> slot\",slotpick:this.onSlotPick});this.on({scope:this,show:this.onSlotPick})},setValue:function(b,a){if(Ext.isDate(b)){b={day:b.getDate(),month:b.getMonth()+1,year:b.getFullYear()}}this.callParent([b,a]);this.onSlotPick()},getValue:function(k){var h={},e=this.getItems().items,d=e.length,a,g,c,f,j,b;for(b=0;b<d;b++){j=e[b];if(j instanceof Ext.picker.Slot){h[j.getName()]=j.getValue(k)}}if(h.year===null&&h.month===null&&h.day===null){return null}f=Ext.isNumber(h.year)?h.year:1;c=Ext.isNumber(h.month)?h.month:1;g=Ext.isNumber(h.day)?h.day:1;if(c&&f&&c&&g){a=this.getDaysInMonth(c,f)}g=(a)?Math.min(g,a):g;return new Date(f,c-1,g)},updateYearFrom:function(){if(this.initialized){this.createSlots()}},updateYearTo:function(){if(this.initialized){this.createSlots()}},updateMonthText:function(a,b){var f=this.getInnerItems,e=f.length,d,c;if(this.initialized){for(c=0;c<e;c++){d=f[c];if((typeof d.title==\"string\"&&d.title==b)||(d.title.html==b)){d.setTitle(a)}}}},updateDayText:function(a,c){var f=this.getInnerItems,e=f.length,d,b;if(this.initialized){for(b=0;b<e;b++){d=f[b];if((typeof d.title==\"string\"&&d.title==c)||(d.title.html==c)){d.setTitle(a)}}}},updateYearText:function(e){var d=this.getInnerItems,c=d.length,b,a;if(this.initialized){for(a=0;a<c;a++){b=d[a];if(b.title==this.yearText){b.setTitle(e)}}}",240223,57,"createSlots()},createSlots:function(){var k=this,c=k.getSlotOrder(),m=k.getYearFrom(),e=k.getYearTo(),f=[],l=[],b=[],h=m>e,j,d,a;while(m){f.push({text:m,value:m});if(m===e){break}if(h){m--}else{m++}}a=k.getDaysInMonth(1,new Date().getFullYear());for(d=0;d<a;d++){l.push({text:d+1,value:d+1})}for(d=0,j=Ext.Date.monthNames.length;d<j;d++){b.push({text:Ext.Date.monthNames[d],value:d+1})}var g=[];c.forEach(function(i){g.push(k.createSlot(i,l,b,f))});k.setSlots(g)},createSlot:function(b,d,a,c){switch(b){case\"year\":return{name:\"year\",align:\"center\",data:c,title:this.getYearText(),flex:3};case\"month\":return{name:b,align:\"right\",data:a,title:this.getMonthText(),flex:4};case\"day\":return{name:\"day\",align:\"center\",data:d,title:this.getDayText(),flex:2}}},onSlotPick:function(){var g=this.getValue(true),f=this.getDaySlot(),e=g.getFullYear(),d=g.getMonth(),j=[],a,b;if(!g||!Ext.isDate(g)||!f){return}this.callParent(arguments);a=this.getDaysInMonth(d+1,e);for(b=0;b<a;b++){j.push({text:b+1,value:b+1})}if(f.getStore().getCount()==j.length){return}f.getStore().setData(j);var h=f.getStore(),m=f.getViewItems(),l=f.getValueField(),c,k;c=h.find(l,g.getDate());if(c==-1){return}k=Ext.get(m[c]);f.selectedIndex=c;f.scrollToItem(k);f.setValue(f.getValue(true))},getDaySlot:function(){var c=this.getInnerItems(),b=c.length,a,d;if(this.daySlot){return this.daySlot}for(a=0;a<b;a++){d=c[a];if(d.isSlot&&d.getName()==\"day\"){this.daySlot=d;return d}}return null},getDaysInMonth:function(c,b){var a",132728,46,"c==2&&this.isLeapYear(b)?29:a[c-1]},isLeapYear:function(a){return !!((a&3)===0&&(a%100||(a%400===0&&a)))},onDoneButtonTap:function(){var a=this._value,c=this.getValue(true),b=c;if(Ext.isDate(c)){b=c.toDateString()}if(Ext.isDate(a)){a=a.toDateString()}if(b!=a){this.fireEvent(\"change\",this,c)}this.hide();",246964,33,"}});Ext.define(\"Ext.field.DatePicker\",{extend:Ext.field.Text,alternateClassName:\"Ext.form.DatePicker\",xtype:\"datepickerfield\",config:{ui:\"select\",picker:true,clearIcon:false,destroyPickerOnHide:false,dateFormat:null,component:{useMask:true}},initialize:function(){var b=this,a=b.getComponent();b.callParent();a.on({scope:b,masktap:\"onMaskTap\"});a.doMaskTap=Ext.emptyFn;",197104,33,"a.input.dom.disabled=true}},syncEmptyCls:Ext.emptyFn,applyValue:function(a){if(!Ext.isDate(a)&&!Ext.isObject(a)){return null}if(Ext.isObject(a)){return new Date(a.year,a.month-1,a.day)}return a},updateValue:function(d,b){var c=this,a=c._picker;if(a&&a.isPicker){a.setValue(d)}if(d!==null){c.getComponent().setValue(Ext.Date.format(d,c.getDateFormat()",137995,36,")}else{c.getComponent().setValue(\"\")}if(d!==b){c.fireEvent(\"change\",c,d,b)}},updateDateFormat:function(c,a){var b=this.getValue();if(c!=a&&Ext.isDate(b)){this.getComponent().setValue(Ext.Date.format(b,c",137995,36,")}},getValue:function(){if(this._picker&&this._picker instanceof Ext.picker.Date){return this._picker.getValue()}return this._value},getFormattedValue:function(b){var a=this.getValue();return(Ext.isDate(a))?Ext.Date.format(a,b||this.getDateFormat()",137995,36,":a},applyPicker:function(b,a){if(a&&a.isPicker){b=a.setConfig(b)}return b},getPicker:function(){var a=this._picker,b=this.getValue();if(a&&!a.isPicker){a=Ext.factory(a,Ext.picker.Date);if(b!=null){a.setValue(b)}}a.on({scope:this,change:\"onPickerChange\",hide:\"onPickerHide\"});this._picker=a;return a},onMaskTap:function(",264926,43,"onFocus();return false},onPickerChange:function(b,d){var c=this,a=c.getValue();c.setValue(d);c.fireEvent(\"select\",c,d);c.onChange(c,d,a)},onChange:Ext.emptyFn,onPickerHide:function(){var b=this,a=b.getPicker();if(b.getDestroyPickerOnHide()&&a){a.destroy();b._picker=b.getInitialConfig().picker||true}",286893,56,"Focus",292844,39,"this.fireEvent(\"focus\",this,b);if(Ext.os.is.Android4){a.input.dom.focus()}a.input.dom.blur();if(this.getReadOnly()){return false}this.isFocused=true;this.getPicker().show(",157983,33,"_picker;if(a&&a.isPicker){a.destroy()}",199200,47,"ield.Email\",{extend:Ext.field.Text,alternateClassName:\"Ext.form.Email\",xtype:\"emailfield\",config:{component:{type:\"email\"},autoCapitalize:false}});Ext.define(\"Ext.field.Hidden\",{extend:Ext.field.Text,alternateClassName:\"Ext.form.Hidden\",xtype:\"hiddenfield\",config:{component:{xtype:\"input\",type:\"hidden\"},ui:\"hidden\",hidden:true,tabIndex:-1}});Ext.define(\"Ext.field.Number",295054,32,"number",291244,36,"Number\",config:{component:{type:\"number\"},ui:\"number\"},proxyConfig:{",283410,42,"},doIni",220503,32,"InitialConfig().value;if(a){a=this.applyValue(a)}this.originalValue=a},applyValue:function(b){var a=this.getMinValue(),c=this.getMaxValue();if(Ext.isNumber(a)&&Ext.isNumber(b)){b=Math.max(b,a)}if(Ext.isNumber(c)&&Ext.isNumber(b)){b=Math.min(b,c)}b=parseFloat(b);return(isNaN(b))?\"\":b},getValue:function(){var a=parseFloat(this.callParent(),10);return(isNaN(a))?null:a",293846,33,"getComponent().setValue(\"\");a.getValue();a.hideClearIcon()}});Ext.define(\"Ext.field.Password",295054,32,"password",291244,36,"Password\",config:{",295162,32,"type:\"password\"}}});Ext.define(\"Ext.field.Radio\",{extend:Ext.field.Checkbox,xtype:\"radio",291244,36,"Radio\",isRadio:true,config:{ui:\"radio\",component:{type:\"radio\",cls:Ext.baseCSSPrefix+\"input-radio\"}},getValue:function(){return(this._value)?this._value:null},setValue:function(a){this._value=a;return this},getSubmitValue:function(){var a=this._value;if(typeof a==\"undefined\"||a==null){a=true}return(this.getChecked())?a:null",286494,33,"getComponent().setChecked(a);if(this.initialized){this.refreshGroupValues()}},onMaskTap:function(a,c){var b=this,d=b.getComponent().input.dom;if(b.getDisabled()){return false}if(!b.getChecked()){d.checked=true}b.refreshGroupValues();return false},getGroupValue:function(){var a=this.getSameGroupFields(),c=a.length,b=0,d;for(;b<c;b++){d=a[b];if(d.getChecked()){return d.getValue()}}return null},setGroupValue:function(d){var a=this.getSameGroupFields(),c=a.length,b=0,e;for(;b<c;b++){e=a[b];if(e.getValue()===d){e.setChecked(true);return e}}},refreshGroupValues:function(){var a=this.getSameGroupFields(),c=a.length,b=0,d;for(;b<c;b++){d=a[b];d.onChange()}}});Ext.define(\"Ext.field.Search",295054,32,"search",291244,36,"Search\",config:{component:{type:\"search\"},ui:\"search\"},platformConfig:[{platform:\"blackberry\",component:{type:\"text\"}}]});Ext.define(\"Ext.field.Select",295054,32,"selec",291243,37,"Select\",config:{ui:\"select\",valueField:\"value\",displayField:\"text\",store:null,options:null,hiddenName:null,component:{useMask:true},clearIcon:false,usePicker:(Ext.os.is.BlackBerry&&Ext.os.version.getMajor()===10)?false:\"auto\",autoSelect:true,defaultPhonePickerConfig:null,defaultTabletPickerConfig:null,name:\"picker\",pickerSlotAlign:\"center\"",289501,37,"pickerSlotAlign:\"left\"}],initialize:function(){var b=this,a=b.getComponent();b.callParent();a.on({scope:b,masktap:\"onMaskTap\"});a.doMaskTap=Ext.emptyFn;",197104,33,"a.input.dom.disabled=true}},updateDefaultPhonePickerConfig:function(b){var a=this.picker;if(a){a.setConfig(b)}},updateDefaultTabletPickerConfig:function(a){var b=this.listPanel;if(b){b.setConfig(a)}},applyUsePicker:function(a){if(a==\"auto\"){a=(Ext.os.deviceType==\"Phone\")}return Boolean(a)},syncEmptyCls:Ext.emptyFn,applyValue:function(d){var a=d,c,b;this.getOptions();b=this.getStore();if((d!=undefined&&!d.isModel)&&b){c=b.find(this.getValueField(),d,null,null,null,true);if(c==-1){c=b.find(this.getDisplayField(),d,null,null,null,true)}a=b.getAt(c)}return a},updateValue:function(b,a){this.record=b;this.callParent([(b&&b.isModel)?b.get(this.getDisplayField()):\"\"]",284903,34,"record;return(a&&a.isModel)?a.get(this.getValueField()):null},getRecord:function(){return this.record},getPhonePicker:function(){var a=this.getDefaultPhonePickerConfig();if(!this.picker){this.picker=Ext.create(\"Ext.picker.Picker\",Ext.apply({slots:[{align:this.getPickerSlotAlign(),name:this.getName(),valueField:this.getValueField(),displayField:this.getDisplayField(),value:this.getValue(),store:this.getStore()}],listeners:{change:this.onPickerChange,scope:this}},a))}return this.picker},getTabletPicker:function(){var a=this.getDefaultTabletPickerConfig();if(!this.listPanel){this.listPanel=Ext.create(\"Ext.Panel\",Ext.apply({left:0,top:0,modal:true,cls:Ext.baseCSSPrefix+\"select-overlay\",layout:\"fit\",hideOnMaskTap:true,width:Ext.os.is.Phone?\"14em\":\"18em\",height:(Ext.os.is.BlackBerry&&Ext.os.version.getMajor()===10)?\"12em\":(Ext.os.is.Phone?\"12.5em\":\"22em\"),items:{xtype:\"list\",store:this.getStore(),itemTpl:'<span class=\"x-list-label\">{'+this.getDisplayField()+\":htmlEncode}</span>\",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}},a))}return this.listPanel},onMaskTap:function(){this.onFocus();return false},showPicker:function(){var b=this.getStore();if(!b||b.getCount()===0){return}if(this.getReadOnly()){return}this.isFocused=true;if(this.getUsePicker()){var e=this.getPhonePicker(),d=this.getName(),h={};h[d]=this.getValue();e.setValue(h);if(!e.getParent()){Ext.Viewport.add(e)}e.show()}else{var f=this.getTabletPicker(),g=f.down(\"list\"),c,a;b=g.getStore();c=b.find(this.getValueField(),this.getValue(),null,null,null,true);a=b.getAt((c==-1)?0:c);if(!f.getParent()){Ext.Viewport.add(f)}f.showBy(this.getComponent(),null);g.select(a,null,true)}},onListSelect:function(c,a){var b=this;if(a){b.setValue(a)}},onListTap:function(){this.listPanel.hide({type:\"fade\",out:true,scope:this})},onPickerChange:function(d,f){var e=this,g=f[e.getName()],b=e.getStore(),c=b.find(e.getValueField(),g,null,null,null,true),a=b.getAt(c);e.setValue(a)},onChange:function(f,h,e){var g=this,b=g.getStore(),d=(b)?b.find(g.getDisplayField(),e,null,null,null,true):-1,c=g.getValueField(),a=(b)?b.getAt(d):null;e=(a)?a.get(c):null;g.fireEvent(\"change\",g,g.getValue(),e)},updateOptions:function(b){var a=this.getStore();if(!a){this.setStore(true);a=this._store}if(!b){a.clearData()}else{a.setData(b);this.onStoreDataChanged(a)}return this},applyStore:function(a){if(a===true){a=Ext.create(\"Ext.data.Store\",{fields:[this.getValueField(),this.getDisplayField()],autoDestroy:true})}if(a){a=Ext.data.StoreManager.lookup(a);a.on({scope:this,addrecords:\"onStoreDataChanged\",removerecords:\"onStoreDataChanged\",updaterecord:\"onStoreDataChanged\",refresh:\"onStoreDataChanged\"})}return a},updateStore:function(a){if(a){this.onStoreDataChanged(a)}if(this.getUsePicker()&&this.picker){this.picker.down(\"pickerslot\").setStore(a)}else{if(this.listPanel){this.listPanel.down(\"dataview\").setStore(a)}}},onStoreDataChanged:function(a){var c=this.getInitialConfig(),b=this.getValue();if(b||b==0){",285147,36,"}if(this.getValue()===null){if(c.hasOwnProperty(\"value\")){this.setValue(c.value)}if(this.getValue()===null&&this.getAutoSelect()){if(a.getCount()>0){this.setValue(a.getAt(0))}}",292986,33,280974,33,"Disabled(b)}Ext.Component.prototype.doSetDisabled.apply(this,arguments)},setDisabled:function(){Ext.Component.prototype.setDisabled.apply(this,arguments)},reset:function(){var b=this.getStore(),a=(this.originalValue)?this.originalValue:b.getAt(0);if(b&&a){this.setValue(a)}return this},onFocus:function(b",264926,38,"var a=this.getComponent();this.fireEvent(\"focus\",this,b);if(Ext.os.is.Android4){a.input.dom.focus()}a.input.dom.blur();this.isFocused=true;this.showPicker()",208952,48,"var a=this.getStore();if(a&&a.getAutoDestroy()){Ext.destroy(a)}Ext.destroy(this.listPanel,this.picker)}});Ext.define(\"Ext.slider.Thumb",282083,32,"humb\"",259840,36,"thumb\",draggable:{direction:\"horizontal\"}},platformConfig:[{platform:[\"ie10\"],draggable:{",222036,33,"csstransform\"}}}],elementWidth:0",246798,32,"Parent();this.getDraggable().onBefore(",154576,59,"scope:this});this.element.on(",225539,32,"},onDragStart:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDrag:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDragEnd:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)",156093,37,"elementWidth=b.width},getElem",416317,32,"elementWidth}});Ext.define(\"Ext.slider.Slide",300639,32,"slider\",config:{baseCls:\"x-slider\",thumbConfig:{draggable:{translatable:{easingX:{duration:300,type:\"ease-out\"}}}},increment:1,value:0,minValue:0,maxValue:100,allowThumbsOverlapping:false,animation:true,readOnly:false},elementWidth:0,offsetValueRatio:0,activeThumb:null",282592,38,"hasOwnProperty(\"values\")){a.value=a.values}this.callParent([a])},initialize:function(){var b=this.element;this.callParent();b.on({scope:this,tap:\"onTap\",resize:\"onResize\"});this.on({scope:this,delegate:\"> thumb\",tap:\"onTap\",dragstart:\"onThumbDragStart\",drag:\"onThumbDrag\",dragend:\"onThumbDragEnd\"});var a=this.getThumb(0);if(a){a.on(\"resize\",\"onThumbResize\",this)}},factoryThumb:function(){return Ext.factory(this.getThumbConfig(),Ext.slider.Thumb)},getThumb",254812,40,"Thumb:function(a){if(typeof a!=\"number\"){a=0}return this.innerItems[a]},refreshOffsetValueRatio:function(){var b=this.getMaxValue()-this.getMinValue(),a=this.elementWidth-this.thumbWidth;this.offsetValueRatio=a/b},onThumbResize:function(){var a=this.getThumb(0);if(a){this.thumbWidth=a.getElementWidth()}this.refresh()},onResize:function(a,b){this.elementWidth=b.width;this.refresh(",157784,34,"Value()},setActiveThumb:function(b){var a=this.activeThumb;if(a&&a!==b){a.setZIndex(null)}this.activeThumb=b;b.setZIndex(2);return this},onThumbDragStart:function(a,b){if(b.absDeltaX<=b.absDeltaY||this.getReadOnly()){return false}else{b.stopPropagation()}if(this.getAllowThumbsOverlapping()){this.setActiveThumb(a)}this.dragStartValue=this.getValue()[this.getThumbIndex(a)];this.fireEvent(\"dragstart\",this,a,this.dragStartValue,b)},onThumbDrag:function(c,g,a){var d=this.getThumbIndex(c),f=this.offsetValueRatio,b=this.constrainValue(this.getMinValue()+a/f);g.stopPropagation();this.setIndexValue(d,b);this.fireEvent(\"drag\",this,c,this.getValue(),g);return false},setIndexValue:function(d,f,b){var a=this.getThumb(d),h=this.getValue(),e=this.getMinValue(),c=this.offsetValueRatio,g=this.getIncrement(),i=a.getDraggable();i.setOffset((f-e)*c,null,b);h[d]=e+Math.round((i.offset.x/c)/g)*g},onThumbDragEnd:function(a,f){this.refreshThumbConstraints(a);var c=this.getThumbIndex(a),d=this.getValue()[c],b=this.dragStartValue",157230,38,"getValue(),f);if(b!==d){this.fireEvent(\"change\",this,a,d,b)}},getThumbIndex:function(a){return this.getThumbs().indexOf(a)},refreshThumbConstraints:function(d){var b=this.getAllowThumbsOverlapping(),a=d.getDraggable().getOffset().x,c=this.getThumbs(),e=this.getThumbIndex(d),g=c[e-1],h=c[e+1],f=this.thumbWidth;if(g){g.getDraggable().addExtraConstraint({max:{x:a-((b)?0:f)}})}if(h){h.getDraggable().addExtraConstraint({min:{x:a+((b)?0:f)}})}},onTap:function(j){if(this.isDisabled()){return}var k=Ext.get(j.target);if(!k||",420882,35,"k.hasCls(\"x-thumb\"))){return}var n=j.touch.point.x,h=this.element,c=h.getX(),d=n-c-(this.thumbWidth/2),o=this.constrainValue(this.getMinValue()+d/this.offsetValueRatio),r=this.getValue(),q=Infinity,m=r.length,g,f,l,p,b,a;if(m===1){p=0}else{for(g=0;g<m;g++){l=r[g];f=Math.abs(l-o);if(f<q){q=f;p=g}}}b=r[p];a=this.getThumb(p);this.setIndexValue(p,o,this.getAnimation());this.refreshThumbConstraints(a);if(b!==o){this.fireEvent(\"change\",this,a,o,b)}},updateThumbs:function(a){this.add(a)},applyValue:function(g){var d=Ext.Array.from(g||0),b=[],c=this.getMinValue(),a,e,f;for(e=0,f=d.length;e<f;e++){a=this.constrainValue(d[e]);if(a<c){a=c}b.push(a);c=a}return b},updateValue:function(f,b){var a=this.getThumbs(),d=f.length,e=this.getMinValue(),g=this.offsetValueRatio,c;this.setThumbsCount(d);for(c=0;c<d;c++){a[c].getDraggable().setExtraConstraint(null).setOffset((f[c]-e)*g)}for(c=0;c<d;c++){this.refreshThumbConstraints(a[c])}},refreshValue:function(){this.refreshOffsetValueRatio();this.setValue(this.getValue())},constrainValue:function(e){var b=this,d=b.getMinValue(),f=b.getMaxValue(),a=b.getIncrement(),c;e=parseFloat(e);if(isNaN(e)){e=d}c=(e-d)%a;e-=c;if(Math.abs(c)>=(a/2)){e+=(c>0)?a:-a}e=Math.max(d,e);e=Math.min(f,e);return e},setThumbsCount:function(e){var a=this.getThumbs(),f=a.length,c,d,b;if(f>e){for(c=0,d=f-e;c<d;c++){b=a[a.length-1];b.destroy()}}else{if(f<e){for(c=0,d=e-f;c<d;c++){this.add(this.factoryThumb())}}}return this},setValues:function(a){this.setValue(a",119756,39,"Value()},applyIncrement:function(a){if(a===0){a=1}return Math.abs(a)},updateAllowThumbsOverlapping:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMinValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMaxValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateIncrement:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},doSetDisabled:function(c",295412,43,"Items().items,d=a.length,b;for(b=0;b<d;b++){a[b].setDisabled(c)}",282045,33,"field.Slider",291207,33,"slider",291244,36,"Slider\"",154056,32,"slider-field\",tabIndex:-1,readOnly:false},proxyConfig:{increment:1,value:0,minValue:0,maxValue:100}",282592,38,"hasOwnProperty(\"values\")){a.value=a.values}this.callParent([a]);this.updateMultipleState()",246797,33,"Parent();this.getComponent().on({scope:this,change:\"onSliderChange\",dragstart:\"onSliderDragStart\",drag:\"onSliderDrag\",dragend:\"onSliderDragEnd\"})",280213,54,"slider.Slider)},updateComponent",208207,41,"setMinValue(this.getMinValue());a.setMaxValue(this.getMaxValue())},onSlider",274751,32,".apply(this,[].concat(\"change\",this,",25023,36,")))},onSliderDragStart:function(){this.fireEvent.apply(this,[].concat(\"dragstart\",this,",25023,36,")))},onSliderDrag:function(){this.fireEvent.apply(this,[].concat(\"drag\",this,",25023,36,")))},onSliderDragEnd:function(){this.fireEvent.apply(this,[].concat(\"dragend\",this,",25023,36,")))},setValues:function(a){this.setValue(a);this.updateMultipleState(",119756,39,"Value()},reset:function(){var b=this.config,a=(this.config.hasOwnProperty(\"values\"))?b.values:b.value;this.setValue(",286675,62,"getComponent().setDisabled",292564,32,292649,36,286779,62,"this.getValue()!==this.originalValue},updateMultipleState:function(){var a=this.getValue();if(a&&a.length>1",293981,33,"slider-multiple\")}}});Ext.define(\"Ext.util.TapRepeater",308540,52,"el:null,accelerate:true,interval:10,delay:250,preventDefault:true,stopDefault:false,timer:0,pressCl",109016,32,"var b=this;b.initConfig(a)},updateEl:function(c,b){var a={",222319,48,"tap:\"eventOptions\",scope:this};if(b){b.un(a)}c.on(a)},eventOptions:function(a){if(this.getPreventDefault()){a.preventDefault()}if(this.getStopDefault()){a.stopEvent()}},destroy:function(){this.clearListeners();Ext.destroy(this.el)},onTouchStart:function(c){var b=this,a=b.getPressCls();clearTimeout(b.getTimer());if(a){b.getEl().addCls(a)}b.tapStartTime=new Date();b.fireEvent(\"touchstart\",b,c);b.fireEvent(\"tap\",b,c);if(b.getAccelerate()){b.delay=400}b.setTimer(Ext.defer(b.tap,b.getDelay()||b.getInterval(),b,[c]))},tap:function(b){var a=this;a.fireEvent(\"tap\",a,b);a.setTimer(Ext.defer(a.tap,a.getAccelerate()?a.easeOutExpo(Ext.Date.getElapsed(a.tapStartTime),400,-390,12000):a.getInterval(),a,[b]))},easeOutExpo:function(e,a,g,f){return(e==f)?a+g:g*(-Math.pow(2,-10*e/f)+1)+a},onTouchEnd:function(b){var a=this;clearTimeout(a.getTimer());a.getEl().removeCls(a.getPressCls());a.fireEvent(\"touchend\",a,b)}});Ext.define(\"Ext.field.Spinner\",{extend:Ext.field.Number,xtype:\"spinner",291244,36,"Spinner\"",154056,32,"spinner\",minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,stepValue:0.1,accelerateOnTapHold:true,cycle:false,clearIcon:false,defaultValue:0,tabIndex:-1,groupButtons:true,component:{disabled:true}",217431,60,"if(!a.getValue()){a.suspendEvents();a.setValue(a.getDefaultValue());a.resumeEvents()}},syncEmptyCls:Ext.emptyFn,updateComponent",295401,55,"ls();if(b){this.spinDownButton=Ext.Element.create({cls:a+\"-button \"+a+\"-button-down\",html:\"-\"});this.spinUpButton=Ext.Element.create({cls:a+\"-button \"+a+\"-button-up\",html:\"+\"});this.downRepeater=this.createRepeater(this.spinDownButton,this.onSpinDown);this.upRepeater=this.createRepeater(this.spinUpButton,this.onSpinUp)}},updateGroupButtons:function(a,e){var c=this,d=c.innerElement,b=c.getBaseCls()+\"-grouped-buttons\";c.getComponent();if(a!=e){if(a){this.addCls(b);d.appendChild(c.spinDownButton);d.appendChild(c.spinUpButton)}else{this.removeCls(b);d.insertFirst(c.spinDownButton);d.appendChild(c.spinUpButton)}}},applyValue:function(a){a=parseFloat(a);if(isNaN(a)||a===null){a=this.getDefaultValue()}a=Math.round(a*10)/10;return this.callParent([a])},createRepeater:function(c,b){var d=this,a=Ext.create(\"Ext.util.TapRepeater\",{el:c,accelerate:d.getAccelerateOnTapHold()});a.on({tap:b",222318,49,"scope:d});return a},onSpinDown:function(){if(!this.getDisabled()&&!this.getReadOnly()){this.spin(true)}},onSpinUp:function(){if(!this.getDisabled()&&!this.getReadOnly()){this.spin(false)}},onTouchStart:function(a){if(!this.getDisabled()&&!this.getReadOnly()){a.getEl().addCls(Ext.baseCSSPrefix+\"button-pressed\")}},onTouchEnd:function(a){a.getEl().removeCls(Ext.baseCSSPrefix+\"button-pressed\")},spin:function(h){var c=this,b=c.getValue(),a=c.getStepValue(),g=h?\"down\":\"up\",e=c.getMinValue(),f=c.getMaxValue(),d;if(h){d=b-a}else{d=b+a}if(c.getCycle()){if(b==e&&d<e){d=f}if(b==f&&d>f){d=e}}c.setValue(d);d=c.getValue();c.fireEvent(\"spin\",c,d,g);c.fireEvent(\"spin\"+g,c,d)},doSetDisabled:function(a){Ext.Component.prototype.doSetDisabled.apply(this,arguments)},setDisabled:function(){Ext.Component.prototype.setDisabled.apply(this,arguments",286892,39,"getDefaultValue()",375471,33,"Ext.destroy(a.downRepeater,a.upRepeater,a.spinDownButton,a.spinUpButton);a",230856,39,"Ext.define(\"Ext.slider.Toggle\",{extend:Ext.slider.Slider,config:{baseCls:\"x-toggle\",minValueCls:\"x-toggle-off\",maxValueCls:\"x-toggle-on\"",246797,33,"Parent();this.on({change:\"onChange\"})},applyMinValue:function(){return 0},applyMaxValue:function(){return 1},applyIncrement:function(){return 1},updateMinValueCls:function(c,b){var a=this.element;if(b&&a.hasCls(b)){a.replaceCls(b,c)}},updateMaxValueCls:function(c,b){var a=this.element;if(b&&a.hasCls(b)){a.replaceCls(b,c)}},setValue:function(b,",286702,35,"onChange(this,this.getThumbs()[0],b,a)},onChange:function(d,a,f,c){var g=f>0,b=d.getMaxValueCls(),e=d.getMinValueCls();this.element.addCls(g?b:e);this.element.removeCls(g?e:b)},toggle:function(){var a=this.getValue();this.setValue((a==1)?0:1);return this},onTap:function(){if(this.isDisabled()||this.getReadOnly()){return}var b=this.getValue(),c=(b==1)?0:1,a=this.getThumb(0);this.setIndexValue(0,c,this.getAnimation());this.refreshThumbConstraints(a);this.fireEvent(\"change\",this,a,c,b)}});Ext.define(\"Ext.field.Toggle\",{extend:Ext.field.Slider,xtype:\"toggle",291244,37,"oggle\",config:{cls:\"x-toggle-field\",labelAlign:\"left\"",289501,49,"left\"}],proxyConfig:{minValueCls:\"x-toggle-off\",maxValueCls:\"x-toggle-on\"},toggleOnLabel:\"On\",toggleOffLabel:\"Off\"",280214,53,"slider.Toggle)},setValue:function(b){if(b===true){b=1}var a=this.getValue();if(a!=b){this.getComponent().setValue(b);this.fireEvent(\"change\",this,b,a)}return this},getValue:function(){return(this.getComponent().getValue()==1)?1:0},toggle:function(){var a=this.getValue();this.setValue((a==1)?0:1);return this},onChange:function(){this.setLabel((this.getValue()==1)?this.toggleOnLabel:this.toggleOffLabel)}});Ext.define(\"Ext.form.FieldSet\",{extend:Ext.Container,alias:\"widget.fieldset\"",259840,36,"form-fieldset\",title:null,instructions:null",297262,88,"baseC",297491,58,"itle,this._title",282844,53,"this.remove(a)}},getTitle:function(){var a=this._title;if(a&&a instanceof Ext.Title){return a.getTitle()}return a},applyInstructions",282736,46,"}}Ext.applyIf(a,{docked:\"bottom\",baseCls:this.getBaseCls()+\"-instructions\"});",282798,36,"_instructions)},updateInstructions",282858,39,"this.remove(a)}},getInstructions:function(){var a=this._instructions;if(a&&a instanceof Ext.Title){return a.getTitle()}return a",286677,33,"getFieldsAsArray().forEach(function(b){b.setDisabled(a)});return this},getFieldsAsArray:function(){var a=[],b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.getItems().each(b)}};this.getItems().each(b);return a}});Ext.define(\"Ext.form.Panel\",{alternateClassName:\"Ext.form.FormPanel\",extend:Ext.Panel,xtype:\"formpanel\"",259840,36,"form\",standardSubmit:false,url:null,baseParams:null,submitOnAction:false,record:null,method:\"post\",scrollable:{",222036,33,"scrollposition\"}},trackResetOnLoad:false",289645,36,"this.callParent();a.tag=\"form\";a.children.push({tag:\"input\",type:\"submit\",style:\"visibility: hidden;\"});return a",274080,52,"element.on({submit:\"onSubmit\",scope:a})},updateRecord:function(c){var a,b,d;if(c&&(a=c.fields)){b=this.getValues()",372896,35,"&&a.containsKey(d)){c.set(d,b[d])}}}return this},setRecord:function(a){var b=this;if(a&&a.data){b.setValues(a.data)}b._record=a;return this},onSubmit:function(b){var a=this;if(b&&!a.getStandardSubmit()){b.stopEvent()}else{this.submit(null,b)}},updateSubmitOnAction:function(a){if(a){this.on({action:\"onFieldAction\",scope:this})}else{this.un({action:\"onFieldAction\",scope:this})}},onFieldAction:function(a){if(this.getSubmitOnAction()){a.blur();this.submit()}},submit:function(a,f){var c=this,b=c.element.dom||{},d;a=Ext.apply({url:c.getUrl()||b.action,submit:false,method:c.getMethod()||b.method||\"post\",autoAbort:false,params:null,waitMsg:null,headers:null,success:null,failure:null},a||{});d=c.getValues(c.getStandardSubmit()||!a.submitDisabled);return c.fireAction(\"beforesubmit\",[c,d,a,f],\"doBeforeSubmit\")},doBeforeSubmit:function(f,h,b){var e=f.element.dom||{};if(f.getStandardSubmit()){if(b.url&&Ext.isEmpty(e.action)){e.action=b.url}var a=this.query(\"spinnerfield\"),d=a.length,c,g;for(c=0;c<d;c++){g=a[c];if(!g.getDisabled()){g.getComponent().setDisabled(false)}}e.method=(b.method||e.method).toLowerCase();e.submit()}else{if(b.waitMsg){f.setMasked(b.waitMsg)}return Ext.Ajax.request({url:b.url,method:b.method,rawData:Ext.urlEncode(Ext.apply(Ext.apply({},f.getBaseParams()||{}),b.params||{},h)),autoAbort:b.autoAbort,headers:Ext.apply({\"Content-Type\"",266690,51,"},b.headers||{}),scope:f,callback:function(i,o,j){var m=this,n=j.responseText,l=Ext.Ajax.parseStatus(j.status,j),k;m.setMasked(false);k=function(){if(Ext.isFunction(b.failure)){b.failure.call(b.scope||m,m,j,n)}m.fireEvent(\"exception\",m,j)};if(o){if(l&&n.length==0){o=true}else{j=Ext.decode(n);o=!!j.success}if(o){if(Ext.isFunction(b.success)){b.success.call(b.scope||m,m,j,n)}m.fireEvent(\"submit\",m,j)}else{k()}}else{k()}}})}},setValues:function(k){var c=this.getFields(),g=this,a,h,j,e,b,d;k=k||{};for(a in k){if(k.hasOwnProperty(a)){h=c[a];j=k[a];if(h){if(Ext.isArray(h)){e=h.length;for(b=0;b<e;b++){d=h[b];if(d.isRadio){d.setGroupValue(j);break}else{if(d.isCheckbox){if(Ext.isArray(j)){d.setChecked((j.indexOf(d._value)!=-1))}else{d.setChecked((j==d._value))}}else{if(Ext.isArray(j)){d.setValue(j[b])}}}}}else{if(h.isRadio||h.isCheckbox){h.setChecked(j)}else{h.setValue(j)}}if(g.getTrackResetOnLoad()){h.resetOriginalValue()}}}}return this},getValues:function(g,l){var f=this.getFields(),m={},e=Ext.isArray,j,k,b,c,a,h,d;b=function(n,i){if(!l&&(!i||i===\"null\")){return}if(n.isCheckbox){k=n.getSubmitValue()}else{k=n.getValue()}if(!(g&&n.getDisabled())){if(n.isRadio){if(n.isChecked()){m[i]=k}}else{c=m[i];if(!Ext.isEmpty(c)){if(!e(c)){c=m[i]=[c]}if(e(k)){c=m[i]=c.concat(k)}else{c.push(k)}}else{m[i]=k}}}};for(a in f){if(f.hasOwnProperty(a)){j=f[a];if(e(j)){h=j.length;for(d=0;d<h;d++){b(j[d],a)}}else{b(j,a)}}}return m},reset:function(){this.getFieldsAsArray().forEach(function(a){a.reset()});return this",286677,33,"getFieldsAsArray().forEach(function(b){b.setDisabled(a)});return this},getFieldsAsArray:function(){var a=[],b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.getItems().each(b)}};this.getItems().each(b);return a},getFields:function(b){var a={},d;var c=function(e){if(e.isField){d=e.getName();if((b&&d==b)||typeof b==\"undefined\"){if(a.hasOwnProperty(d)){if(!Ext.isArray(a[d])){a[d]=[a[d]]}a[d].push(e)}else{a[d]=e}}}if(e.isContainer){e.items.each(c)}};this.getItems().each(c);return(b)?(a[b]||[]):a},getFieldsArray:function(){var a=[];var b=function(c){if(c.isField){a.push(c)}if(c.isContainer){c.items.each(b)}};this.items.each(b);return a},getFieldsFromItem:Ext.emptyFn,showMask:function(a,b){a=Ext.isObject(a)?a.message:a;if(a){this.setMasked({xtype:\"loadmask\",message:a})}else{this.setMasked(true)}return this},hideM",248206,36,";return this},getFocusedField:function(){var a=this.getFieldsArray(),c=a.length,d,b;for(b=0;b<c;b++){d=a[b];if(d.isFocused){return d}}return null},getNextField:function(){var a=this.getFieldsArray(),c=this.getFocusedField(),b;if(c){b=a.indexOf(c);if(b!==a.length-1){b++;return a[b]}}return false},focusNextField:function(){var a=this.getNextField();if(a){a.focus();return a}return false},getPreviousField:function(){var a=this.getFieldsArray(),c=this.getFocusedField(),b;if(c){b=a.indexOf(c);if(b!==0){b--;return a[b]}}return false},focusPreviousField:function(){var a=this.getPreviousField();if(a){a.focus();return a}",291152,46,436701,27575,"model.User\",{extend:Ext.data.Model,config:{fields:[{name:\"id\",type:\"int\",defaultValue:0},{name:\"enabled\",type:\"int\",defaultValue:1},{name:\"companyId\",type:\"int\"},{name:\"username\",type:\"string\"},{name:\"role\",type:\"string\",defaultValue:\"companyUser\"},{name:\"firstName\",type:\"string\"},{name:\"lastName\",type:\"string\"},{name:\"email\",type:\"email\"},{name:\"position\",type:\"string\"},{name:\"department\",type:\"string\"}],validations:[{type:\"format\",field:\"email\",matcher:/\\S+@\\S+\\.\\S+/,message:\"Wrong email format\"},{type:\"presence\",name:\"firstName\",message:\"Name is required\"}]",464247,34,"pages.Auth\",{extend:Ext.Container,xtype:\"SafeStartAuthPage\",config:",464361,32,"layout:\"fit\",styleHtmlContent:false,scrollable:false,html:['<div class=\"logo\"><img height=100 width=\"381\" src=\"/resources/img/logo-small.png\" /><div>'].join(\"\")",246797,33,"Parent();this.AuthForm=this",465622,35,"forms.Auth\"))",464247,34,"forms.Contact\",{extend:Ext.form.Panel,xtype:\"SafeStartContactForm\",config:{autoRender:true,floating:false,centered:true,cls:\"sfa-auth-form\",height:570,width:450,items:[{xtype:\"fieldset\",title:\"Contact Us\",items:[{xtype:\"textfield\",label:\"Name\",name:\"name\"},{xtype:\"emailfield\",label:\"Email\",name:\"email\"},{xtype:\"textareafield\",label:\"Message\",name:\"message\"}]},{xtype:\"button\",text:\"Send\",ui:\"confirm\",handler:function(){SafeStartApp.showInfoMsg(\"Coming soon\")}}]",464247,34,"pages.Contac",450553,32,"SafeStartContactPage\",config:{title:\"Contact\",iconCls:\"info",464391,39,246797,33,"Parent();this.ContactForm=this",465622,35,"forms.Contact\"))",464247,34,"forms.UserProfile\",{extend:Ext.form.Panel,xtype:\"SafeStartUserProfileForm\",config:{height:300,items:[{xtype:\"fieldset\",title:\"Personal Info\",instructions:\"You chan change your info above.\",items:[{xtype:\"textfield\",label:\"First Name\",name:\"firstName\"},{xtype:\"textfield\",label:\"Last Name\",name:\"lastName\"},{xtype:\"emailfield\",label:\"Email\",name:\"email\"}]}]",464247,34,"pages.toolbar.Main\",{extend:Ext.Toolbar,xtype:\"SafeStartMainToolbar\",config:{cls:\"sfa-main-toolbar\",scrollable:{direction:\"horizontal\",indicators:false}",246797,33,"Parent();this.addListener(\"resize\",function(){if(!this.toolbarButtons){this.add(this.getToolbarItems())}},this)},getToolbarItems:function(){return this.toolbarButtons=[{xtype:\"spacer\"},{iconCls:\"user\",ui:\"action\",text:SafeStartApp.userModel.get(\"firstName\")+\" \"+SafeStartApp.userModel.get(\"lastName\"),action:\"update_profile\"},{iconCls:\"action\",ui:\"action\",text:\"Logout\",action:\"logout\"}]",464247,34,"pages.toolbar.Companies\",{extend:SafeStartApp.view.pages.toolbar.Main,xtype:\"SafeStartMainToolbar\",getToolbarItems:function(){return this.toolbarButtons=[{iconCls:\"add\",ui:\"action\",text:\"Add Company\",action:\"add-company\"},{xtype:\"spacer\"},{iconCls:\"user\",ui:\"action\",text:SafeStartApp.userModel.get(\"firstName\")+\" \"+SafeStartApp.userModel.get(\"lastName\"),action:\"update_profile\"},{iconCls:\"action\",ui:\"action\",text:\"Logout\",action:\"logout\"}]}});Ext.define(\"SafeStartApp.model.Company\",{extend:Ext.data.Model,config:{fields:[{name:\"id\",type:\"int\",defaultValue:0},{name:\"title\",type:\"string\"},{name:\"email\",type:\"string\"},{name:\"firstName\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"address\",type:\"string\"},{name:\"phone\",type:\"string\"},{name:\"restricted\",type:\"boolean\",defaultValue:false},{name:\"max_users\",type:\"int\",defaultValue:0},{name:\"max_vehicles\",type:\"int\",defaultValue:0},{name:\"expiry_date\",type:\"int\",defaultValue:new Date()}],validations:[{type:\"presence\",name:\"title\",message:\"Company title is required\"},{type:\"presence\",name:\"firstName\",message:\"Responsible person name is required\"},{type:\"format\",field:\"email\",matcher:/\\S+@\\S+\\.\\S+/,message:\"Wrong email format\"}]}});Ext.define(\"SafeStartApp.store.AbstractStore\",{extend:Ext.data.Stor",154025,32,"loadData:function(){this.load({callback:function(b,a,c){if(a.getError()){SafeStartApp.showFailureInfoMsg(Ext.getClass(this).getName()+\": \"+a.getError().statusText);this.fireEvent(\"data-load-failure\",this)}else{this.fireEvent(\"data-load-success\",this)}},scope:this})}});Ext.define(\"SafeStartApp.store.Companies\",{extend:SafeStartApp.store.AbstractStore,config:{model:\"SafeStartApp.model.Company\",proxy:{type:\"ajax\",url:\"api/admin/getcompanies\",reader:{type:\"json\",rootProperty:\"data\"}},sorters:\"title\",grouper:{groupFn:function(a){return a.get(\"title\")[0]}}",464247,34,"forms.CompanySettings\",{extend:Ext.form.Panel,mixins:[Ext.mixin.Observable],xtype:\"SafeStartCompanySettingsForm\",config:{minHeight:400,cls:\"comp-settings\",items:[{xtype:\"fieldset\",title:\"Company Settings\",items:[{xtype:\"hiddenfield\",name:\"id\"},{xtype:\"textfield\",label:\"Company Name\",required:true,name:\"title\"},{xtype:\"textfield\",label:\"Responsible Name\",required:true,name:\"firstName\"},{xtype:\"emailfield\",label:\"Responsible Email\",required:true,name:\"email\"},{xtype:\"textfield\",label:\"Company Address\",name:\"address\"},{xtype:\"textfield\",label:\"Company Phone\",name:\"phone\"},{xtype:\"textareafield\",label:\"Company Info\",name:\"description\"},{xtype:\"togglefield\",name:\"restricted\",label:\"Limited Access\",listeners:{change:function(e,c,a,d,b){if(d){this.up(\"SafeStartCompanySettingsForm\").down(\"fieldset\").down(\"fieldset\").enable()}else{this.up(\"SafeStartCompanySettingsForm\").down(\"fieldset\").down(\"fieldset\").disable()}}}},{xtype:\"fieldset\",title:\"Subscription:\",id:\"subscription\",cls:\"subscription-fieldset\",items:[{xtype:\"spinnerfield\",maxValue:1000,minValue:1,stepValue:1,name:\"max_users\",required:true,label:\"Number of users\"},{xtype:\"spinnerfield\",maxValue:1000,minValue:1,stepValue:1,name:\"max_vehicles\",required:true,label:\"Number of vehicles\"},{xtype:\"datepickerfield\",name:\"expiry_date\",required:true,label:\"Expiry Date\",value:new Date(),cls:\"sfa-datepicker\",picker:{yearFrom:new Date().getFullYear(),yearTo:new Date().getFullYear()+10}}]}]},{xtype:\"toolbar\",docked:\"bottom\",items:[{xtype:\"button\",name:\"delete-data\",text:\"Delete\",ui:\"decline\",iconCls:\"delete\",handler:function(){this.up(\"SafeStartCompanySettingsForm\").fireEvent(\"delete-data\",this.up(\"SafeStartCompanySettingsForm\"))}},{xtype:\"spacer\"},{xtype:\"button\",name:\"manage\",text:\"Manage\",ui:\"action\",iconCls:\"compose\",handler:function(){this.up(\"SafeStartCompanySettingsForm\").fireEvent(\"manage\",this.up(\"SafeStartCompanySettingsForm\"))}},{xtype:\"spacer\"},{xtype:\"button\",text:\"Reset\",name:\"reset-data\",handler:function(){this.up(\"SafeStartCompanySettingsForm\").fireEvent(\"reset-data\",this.up(\"SafeStartCompanySettingsForm\"))}},{xtype:\"button\",text:\"Send Credentials\",name:\"send-credentials\",ui:\"action\",handler:function(){this.up(\"SafeStartCompanySettingsForm\").fireEvent(\"send-credentials\",this.up(\"SafeStartCompanySettingsForm\"))}},{xtype:\"button\",text:\"Save\",name:\"save-data\",ui:\"confirm\",handler:function(){this.up(\"SafeStartCompanySettingsForm\").fireEvent(\"save-data\",this.up(\"SafeStartCompanySettingsForm\"))}}]}]}});Ext.define(\"SafeStartApp.store.mixins.FilterByField\",{filterStoreDataBySearchFiled:function(b,h,g){var f=h.getValue();b.clearFilter(!!f);if(f){var e=f.split(\",\"),a=[],c,d;for(c=0;c<e.length;c++){if(!e[c]){continue}d=e[c].trim();d=d.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\");a.push(new RegExp(d.trim(),\"i\"))}b.filter(function(j){var i=[];for(c=0;c<a.length;c++){var l=a[c],k=l.test(j.get(g));i.push(k)}return(a.length&&i.indexOf(true)!==-1)})}",464247,34,"pages.Companies\",{extend:Ext.Container,mixins:[SafeStartApp.store.mixins.FilterByField],xtype:\"SafeStartCompaniesPage\",config:{title:\"Companies\",iconCls:\"team\",styleHtmlContent:true,layout:\"hbox\",cls:\"companies\",items:[]",274080,35,"this.callParent();this.mainToolbar=Ext.create(\"SafeStartApp.view.pages.toolbar.Companies\");this.add({xtype:\"SafeStartMainToolbar\",docked:\"top\",title:\"Companies\"});this.companiesStore=Ext.create(\"SafeStartApp.store.Companies\");this.companiesStore.loadData();this.add(this.getCompanyList());this.add(this.getInfoPanel())},getCompanyList:function(){var a=this;return{xtype:\"list\",name:\"companies\",itemTpl:'<div class=\"contact\">{title}</div>',minWidth:150,maxWidth:300,flex:1,cls:\"sfa-left-container\",store:this.companiesStore,items:[{xtype:\"toolbar\",docked:\"top\",items:[{xtype:\"searchfield\",placeHolder:\"Search...\",listeners:{scope:this,clearicontap:function(){a.companiesStore.clearFilter()},keyup:function(b){a.filterStoreDataBySearchFiled(a.companiesStore,b,\"title\")}}},{xtype:\"spacer\"},{xtype:\"button\",name:\"reload\",ui:\"action\",cls:\"sfa-search-reload\",iconCls:\"refresh\",handler:function(){this.up(\"list[name=companies]\").getStore().loadData()}}]}]}},getInfoPanel:function(){return{cls:\"sfa-info-container\",xtype:\"panel\",layout:\"card\",flex:2,minWidth:150,name:\"company-info\"}",464247,34,"pages.toolbar.Company\",{extend:SafeStartApp.view.pages.toolbar.Main,xtype:\"SafeStartCompanyToolbar\",getToolbarItems:function(){return this.toolbarButtons=[{iconCls:\"add\",ui:\"action\",text:\"Add Vehicle\",action:\"add-vehicle\"},{xtype:\"spacer\"},{iconCls:\"user\",ui:\"action\",text:SafeStartApp.userModel.get(\"firstName\")+\" \"+SafeStartApp.userModel.get(\"lastName\"),action:\"update_profile\"},{iconCls:\"action\",ui:\"action\",text:\"Logout\",action:\"logout\"}]",464247,34,"pages.nestedlist.Vehicles\",{extend:Ext.dataview.NestedList,alias:\"widget.SafeStartNestedListVehicles\",mixins:[SafeStartApp.store.mixins.FilterByField],name:\"vehicles\",config:{minWidth:150,maxWidth:300,title:\"Vehicles\",displayField:\"text\",cls:\"sfa-left-container\",flex:1,getTitleTextTpl:function(){return\"{\"+this.getDisplayField()+'}<tpl if=\"leaf !== true\"> -> </tpl>'},getItemTextTpl:function(){return\"{\"+this.getDisplayField()+'}<tpl if=\"leaf !== true\"> -> </tpl>'}},initialize:function(){this.setItems([{xtype:\"toolbar\",docked:\"top\",items:[{xtype:\"searchfield\",placeHolder:\"Search...\",listeners:{clearicontap:function(){this.getStore().clearFilter()},keyup:function(a){this.filterStoreDataBySearchFiled(this.getStore(),a,\"text\")},scope:this}},{xtype:\"spacer\"},{xtype:\"button\",name:\"reload\",ui:\"action\",iconCls:\"refresh\",cls:\"sfa-search-reload\",handler:function(){this.up(\"nestedlist[name=vehicles]\").getStore().loadData()}}]}])",464247,34,"pages.panel.VehicleInspection\",{extend:Ext.Panel,alias:\"widget.SafeStartVehicleInspection\",config:{name:\"vehicle-inspection\",layout:{type:\"card\"}},initialize:function(){console.log(this)},loadChecklist:function(a){var c=[],d=[],b=[];Ext.each(this.query(\"formpanel\"),function(e){this.remove(e)},this);Ext.each(a,function(g,f){var e=this.createForm(g);if(g.additional){e.name=\"checklist-card-additional\";d.push(e);b.push({xtype:\"checkboxfield\",label:g.groupName,checklistGroupId:g.groupId})}else{e.name=\"checklist-card\";c.push(e)}},this);this.add(c);if(b.length){this.add({xtype:\"formpanel\",name:\"checklist-card-choise-additional\",cls:\"sfa-checklist-form\",items:[{xtype:\"fieldset\",items:b},{xtype:\"titlebar\",docked:\"top\",title:\"Daily inspection checklist additional\"},{xtype:\"toolbar\",docked:\"bottom\",margin:\"40 0 0 0\",layout:{type:\"hbox\",align:\"stretch\",pack:\"center\"},items:[{text:\"Prev\",action:\"prev\"},{text:\"Next\",action:\"next\"}]}]})}this.add(d);this.add({xtype:\"formpanel\",name:\"checklist-card-review\",cls:\"sfa-checklist-form\",items:[{xtype:\"titlebar\",docked:\"top\",title:\"Review\"},{xtype:\"toolbar\",margin:\"40 0 0 0\",docked:\"bottom\",layout:{type:\"hbox\",align:\"stretch\",pack:\"center\"},items:[{text:\"Prev\",action:\"prev\"},{text:\"Submit\",action:\"submit\"}]}]})},createForm:function(b){var a=this.createFields(b.fields);a.push({xtype:\"titlebar\",docked:\"top\",title:b.groupName},{xtype:\"toolbar\",docked:\"bottom\",margin:\"40 0 0 0\",layout:{type:\"hbox\",align:\"stretch\",pack:\"center\"},items:[{text:\"Prev\",action:\"prev\"},{text:\"Next\",action:\"next\"}]});return{xtype:\"formpanel\",cls:\"sfa-checklist-form\",minHeight:400,groupId:b.groupId,items:a}},createFields:function(b){var a=[];Ext.each(b,function(c){switch(c.type){case\"text\":a.push(this.createTextField(c));break;case\"radio\":a.push(this.createRadioField(c));break;case\"datePicker\":a.push(this.createDatePickerFiled(c));break;case\"group\":a.push(this.createGroupField(c));break;case\"checkbox\":a.push(this.createCheckboxField(c));break;default:Ext.Logger.log(\"Unexpected field type:\"+c.type,\"warn\");break}},this);return a},createTextField:function(a){return{xtype:\"textfield\",label:a.fieldName,fieldId:a.fieldId}},createRadioField:function(b){var c=[],a=\"radioGroup-\"+b.fieldId;Ext.each(b.options,function(d){c.push({xtype:\"radiofield\",value:d.value,label:d.label,labelWrap:true,name:a,checked:b.fieldValue===d.value})});return{xtype:\"fieldset",297876,37,"defaults:{labelAlign:\"right\"},fieldId:b.fieldId,title:b.fieldName,items:c}},createDatePickerFiled:function(a){return{xtype:\"datepickerfield\",label:a.fieldName,fieldId:a.fieldId,value:new Date()}},createCheckboxField:function(a){return{xtype:\"checkboxfield\",label:a.fieldName,fieldId:a.fieldId,getSubmitData:function(){return this.getChecked()?\"Yes\":\"No\"}}},createGroupField:function(a){return{xtype:\"fieldset\",fieldId:a.fieldId,title:a.fieldName,items:this.createFields(a.items)}}});Ext.define(\"SafeStartApp.store.AbstractTreeStore\",{extend:Ext.data.TreeStor",154025,40,"autoLoad:false},loadData:function(){this.load({callback:function(b,a,c){if(a.getError()){SafeStartApp.showFailureInfoMsg(Ext.getClass(this).getName()+\": \"+a.getError().statusText);this.fireEvent(\"data-load-failure\",this)}else{this.fireEvent(\"data-load-success\",this)}},scope:this})}});Ext.define(\"SafeStartApp.model.Vehicle\",{extend:Ext.data.Model,config:{fields:[{name:\"id\",type:\"int\",defaultValue:0},{name:\"title\",type:\"string\"},{name:\"text\",type:\"string\"},{name:\"type\",type:\"string\",defaultValue:\"\"},{name:\"registration\",type:\"string\",defaultValue:\"\"},{name:\"plantId\",type:\"string\",defaultValue:\"\"},{name:\"projectName\",type:\"string\",defaultValue:\"\"},{name:\"projectNumber\",type:\"string\",defaultValue:\"\"},{name:\"serviceDueKm\",type:\"int\",defaultValue:1000},{name:\"serviceDueHours\",type:\"int\",defaultValue:24},{name:\"action\",type:\"string\",defaultValue:\"\"}],associations:[{type:\"hasMany\",model:\"User\",name:\"users\"},{type:\"hasMany\",model:\"User\",name:\"responsibleUsers\"}],validations:[{type:\"presence\",name:\"title\",message:\"Vehicle title is required\"},{type:\"presence\",name:\"plantId\",message:\"Vehicle plantId is required\"},{type:\"presence\",name:\"registration\",message:\"Vehicle registration number is required\"}]}});Ext.define(\"SafeStartApp.store.Vehicles\",{extend:SafeStartApp.store.AbstractTreeStore,config:{model:\"SafeStartApp.model.Vehicle\",proxy:{type:\"ajax\",url:\"api/company/getvehicles\",reader:{type:\"json\",rootProperty:\"data\"}},sorters:\"title\",grouper:{groupFn:function(a){return a.get(\"title\")[0]}}",464247,34,"pages.Company\",{extend:Ext.Container,mixins:[SafeStartApp.store.mixins.FilterByField],xtype:\"SafeStartCompanyPage\",companyId:0,config:{title:\"Company\",iconCls:\"more\",styleHtmlContent:true,layout:\"hbox\",cls:\"page-company\",items:[],listeners:{scope:this,show:function(a){a.loadData()}}",274080,35,"this.callParent();this.mainToolbar=Ext.create(\"SafeStartApp.view.pages.toolbar.Company\");this.add({xtype:\"SafeStartCompanyToolbar\",docked:\"top\"});this.vehiclesStore=new SafeStartApp.store.Vehicles();this.add(this.getVehiclesList());this.add(this.getInfoPanel());this.disable()},getVehiclesList:function(){return{xtype:\"SafeStartNestedListVehicles\",store:this.vehiclesStore}},getInfoPanel:function(){return{cls:\"sfa-info-container\",xtype:\"panel\",name:\"info-container\",layout:\"card\",minWidth:150,flex:2,items:[{xtype:\"panel\",name:\"vehicle-info\",layout:\"card\"},{xtype:\"SafeStartVehicleInspection\"},{xtype:\"panel\",name:\"vehicle-manage\",layout:\"card\"}]}},getAlertsList:function(){return{xtype:\"list\",name:\"alerts\",itemTpl:'<div class=\"contact\">{title}</div>',minWidth:150,maxWidth:300,cls:\"sfa-right-container\",flex:3,store:this.alertsStore,items:[{xtype:\"toolbar\",docked:\"top\",title:\"Alerts\",items:[]}]}},loadData:function(){if(!SafeStartApp.companyModel||!SafeStartApp.companyModel.get||!SafeStartApp.companyModel.get(\"id\")){return}if(SafeStartApp.companyModel.get(\"id\")==this.companyId){return}this.companyId=SafeStartApp.companyModel.get(\"id\");this.vehiclesStore.getProxy().setExtraParam(\"companyId\",this.companyId);this.down(\"SafeStartCompanyToolbar\").setTitle(SafeStartApp.companyModel.get(\"title\"));this.down(\"nestedlist[name=vehicles]\").goToNode(this.vehiclesStore.getRoot());this.vehiclesStore.loadData()",464247,34,"pages.toolbar.SystemSettings\",{extend:SafeStartApp.view.pages.toolbar.Main,xtype:\"SafeStartSystemSettingsToolbar\",getToolbarItems:function(){return this.toolbarButtons=[{xtype:\"spacer\"},{iconCls:\"user\",ui:\"action\",text:SafeStartApp.userModel.get(\"firstName\")+\" \"+SafeStartApp.userModel.get(\"lastName\"),action:\"update_profile\"},{iconCls:\"action\",ui:\"action\",text:\"Logout\",action:\"logout\"}]",464247,34,"components.UpdateChecklist\",{extend:Ext.Panel,mixins:[Ext.mixin.Observable],xtype:\"SafeStartUpdateChecklistComponent\",checkListStore:null,config:{name:\"checklist\",title:\"Default Checklist\",layout:\"hbox\",items:[{xtype:\"nestedlist\",name:\"checklist-tree\",flex:1,title:\"Checklist\",displayField:\"text\",useTitleAsBackText:false,getTitleTextTpl:function(){return\"{\"+this.getDisplayField()+'}<tpl if=\"leaf !== true\">  </tpl>'},getItemTextTpl:function(){return\"{\"+this.getDisplayField()+'}<tpl if=\"leaf !== true\">  </tpl>'},detailCard:false,store:this.checkListStore,items:[{xtype:\"toolbar\",docked:\"top\",items:[{xtype:\"button\",name:\"add-field\",action:\"add-field\",ui:\"action\",iconCls:\"add\"}]}]},{xtype:\"panel\",layout:\"card\",flex:2,minWidth:150,name:\"field-info\"}",305387,32,"callParent(arguments);Ext.apply(this,a);this.getTreeList().setStore(this.getChecklistStore())},getChecklistStore:function(){return this.checkListStore},getTreeList:function(){return this.down(\"nestedlist[name=checklist-tree]\")}});Ext.define(\"SafeStartApp.model.ChecklistField\",{extend:Ext.data.Model,config:{fields:[{name:\"id\",type:\"int\",defaultValue:0},{name:\"parentId\",type:\"int\",defaultValue:0},{name:\"vehicleId\",type:\"int\",defaultValue:0},{name:\"enabled\",type:\"int\",defaultValue:1},{name:\"title\",type:\"string\"},{name:\"text\",type:\"string\"},{name:\"type\",type:\"string\",defaultValue:\"\"},{name:\"sort_order\",type:\"int\",defaultValue:1},{name:\"trigger_value\",type:\"string\",defaultValue:1},{name:\"alert_title\",type:\"string\",defaultValue:\"\"}],validations:[{type:\"presence\",name:\"title\",message:\"Field title is required\"}]}});Ext.define(\"SafeStartApp.store.ChecklistDefault\",{extend:SafeStartApp.store.AbstractTreeStore,config:{autoLoad:false,model:\"SafeStartApp.model.ChecklistField\",proxy:{type:\"ajax\",url:\"api/admin/getdefaultchecklist\",reader:{type:\"json\",rootProperty:\"data\"}},sorters:\"sort_order\",grouper:{groupFn:function(a){return a.get(\"sort_order\")}}",464247,34,"pages.SystemSettings\",{extend:Ext.Container,xtype:\"SafeStartSystemSettingsPage\",config:{title:\"Settings\",iconCls:\"settings\",styleHtmlContent:true,layout:\"card\",items:[],listeners:{scope:this,show:function(a){a.loadData()}}",274080,35,"this.callParent();this.mainToolbar=Ext.create(\"SafeStartApp.view.pages.toolbar.SystemSettings\");this.add({xtype:\"SafeStartSystemSettingsToolbar\",docked:\"top\"});this.checklistDefaultStoreStore=new SafeStartApp.store.ChecklistDefault();this.add(this.getInfoPanel())},getInfoPanel:function(){var a=this;this.checkListTree=new SafeStartApp.view.components.UpdateChecklist({checkListStore:this.checklistDefaultStoreStore});return{cls:\"sfa-info-container sfa-system-settings\",xtype:\"tabpanel\",layout:\"card\",minWidth:150,scrollable:false,items:[this.checkListTree,{xtype:\"panel\",title:\"System\",name:\"system\",html:\"System\",layout:\"card\"}],listeners:{}}},loadData:function(){var a=this;a.checkListTree.getTreeList().getStore().loadData();a.checkListTree.getTreeList().getStore().addListener(\"data-load-success\",function(){var b=this.checkListTree.getTreeList().getStore().getNodeById(this.checkListTree.getTreeList().selectedNodeId);if(!b){b=this.checklistDefaultStoreStore.getRoot()}if(b.isLeaf()){this.checkListTree.getTreeList().goToLeaf(b)}else{this.checkListTree.getTreeList().goToNode(b)}},a)",464247,34,"pages.toolbar.Vehicles\",{extend:SafeStartApp.view.pages.toolbar.Main,alias:\"widget.SafeStartToolbarVehicles\",getToolbarItems:function(){this.toolbarButtons=[{xtype:\"spacer\"},{iconCls:\"user\",ui:\"action\",text:SafeStartApp.userModel.get(\"firstName\")+\" \"+SafeStartApp.userModel.get(\"lastName\"),action:\"update_profile\"},{iconCls:\"action\",ui:\"action\",text:\"Logout\",action:\"logout\"}];return this.toolbarButtons",464247,34,"pages.Vehicles\",{extend:Ext.Container,alias:\"widget.SafeStartVehiclesPage\",config:{title:\"Vehicles",464391,35,"false,layout:\"hbox\"},initialize:function(){this.setItems([{xtype:\"SafeStartToolbarVehicles\",docked:\"top\"},{xtype:\"SafeStartNestedListVehicles\",store:this.createVehicleStore()},{xtype:\"panel\",cls:\"sfa-info-container\",name:\"info-container\",layout:\"card\",flex:2,minWidth:150,scrollable:false,items:[{xtype:\"panel\",name:\"vehicle-info\",scrollable:true,layout:\"card\"},{xtype:\"SafeStartVehicleInspection\"}]}]);this.callParent()},createVehicleStore:function(){var b=Ext.create(\"SafeStartApp.store.Vehicles\"),a=SafeStartApp.userModel.get(\"companyId\");b.getProxy().setExtraParam(\"companyId\",a);return b",464247,34,"pages.toolbar.Users\",{extend:SafeStartApp.view.pages.toolbar.Main,xtype:\"SafeStartUsersToolbar\",getToolbarItems:function(){return this.toolbarButtons=[{iconCls:\"add\",ui:\"action\",text:\"Add User\",action:\"add-user\"},{xtype:\"spacer\"},{iconCls:\"user\",ui:\"action\",text:SafeStartApp.userModel.get(\"firstName\")+\" \"+SafeStartApp.userModel.get(\"lastName\"),action:\"update_profile\"},{iconCls:\"action\",ui:\"action\",text:\"Logout\",action:\"logout\"}]}});Ext.define(\"SafeStartApp.store.Users\",{extend:SafeStartApp.store.AbstractStore,config:{model:\"SafeStartApp.model.User\",proxy:{type:\"ajax\",url:\"api/company/getusers\",reader:{type:\"json\",rootProperty:\"data\"}},sorters:\"firstName\",grouper:{groupFn:function(a){return a.get(\"firstName\")[0]}}",464247,34,"pages.Users\",{extend:Ext.Container,mixins:[SafeStartApp.store.mixins.FilterByField],xtype:\"SafeStartUsersPage\",companyId:0,config:{title:\"Users\",iconCls:\"user\",styleHtmlContent:true,layout:\"hbox\",items:[],listeners:{scope:this,show:function(a){a.loadData()}}",274080,35,"this.callParent();this.mainToolbar=Ext.create(\"SafeStartApp.view.pages.toolbar.Users\");this.add({xtype:\"SafeStartUsersToolbar\",docked:\"top\"});this.usersStore=Ext.create(\"SafeStartApp.store.Users\");this.add(this.getUsersList());this.add(this.getInfoPanel());this.disable()},getUsersList:function(){var a=this;return{xtype:\"list\",name:\"users\",itemTpl:'<div class=\"contact\">{firstName} {lastName}</div>',minWidth:150,maxWidth:300,flex:1,cls:\"sfa-left-container\",store:this.usersStore,items:[{xtype:\"toolbar\",docked:\"top\",items:[{xtype:\"spacer\"},{xtype:\"searchfield\",placeHolder:\"Search...\",listeners:{scope:this,clearicontap:function(){a.usersStore.clearFilter()},keyup:function(b){a.filterStoreDataBySearchFiled(a.usersStore,b,\"firstName\")}}},{xtype:\"spacer\"},{xtype:\"button\",name:\"reload\",ui:\"action\",iconCls:\"refresh\",cls:\"sfa-search-reload\",handler:function(){this.up(\"list[name=users]\").getStore().loadData()}}]}]}},getInfoPanel:function(){return{cls:\"sfa-info-container\",xtype:\"panel\",name:\"user-info\",layout:\"card\",minWidth:150,flex:2,scrollable:true}},loadData:function(){if(!SafeStartApp.companyModel||!SafeStartApp.companyModel.get||!SafeStartApp.companyModel.get(\"id\")){return}if(SafeStartApp.companyModel.get(\"id\")==this.companyId){return}this.companyId=SafeStartApp.companyModel.get(\"id\");this.down(\"SafeStartUsersToolbar\").setTitle(SafeStartApp.companyModel.get(\"title\")+\": users\");this.usersStore.getProxy().setExtraParam(\"companyId\",this.companyId);this.usersStore.loadData()",464247,34,"abstract.dialog\",{extend:Ext.Panel,mixins:[Ext.mixin.Observable],xtype:\"SafeStartAbstractDialog\",config:{modal:true,hideOnMaskTap:true",295680,122,"centered:true,width:Ext.filterPlatform(\"ie10\")?\"100%\":(Ext.os.deviceType==\"Phone\")?260:400,height:Ext.filterPlatform(\"ie10\")?\"30%\":Ext.os.deviceType==\"Phone\"?220:350",464392,34,"false,cls:\"sfa-modal-form\",items:[{xtype:\"toolbar\",docked:\"bottom\",items:[{text:\"Cancel\",ui:\"action\",handler:function(){this.up(\"SafeStartAbstractDialog\").hide()}},{xtype:\"spacer\"},{text:\"Save\",action:\"save-data\",ui:\"confirm\",handler:function(){this.up(\"SafeStartAbstractDialog\").fireEvent(\"save-data\",this.up(\"SafeStartAbstractDialog\"))}}]}]",464247,69,"SafeStartMainView\",items:[]",464321,41,"xclass:\"SafeStartApp.view.pages.Auth\"},{xclass:\"SafeStartApp.view.pages.Contact\"}]}});Ext.define(\"SafeStartApp.controller.Main\",{extend:Ext.app.Controller});Ext.define(\"SafeStartApp.controller.mixins.Form\",{validateFormByModel:function(a,c,e){var d=\"\";var b=c.getFields();a.setData(c.getValues());var f=a.validate();Ext.iterate(b,function(g,h){if(f.getByField(g)[0]){d+=f.getByField(g)[0].getMessage()+\"<br>\"}else{}});if(f.isValid()){return true}else{Ext.Msg.alert(e||\"Please check required fields.\",d,Ext.emptyFn());return false}}});Ext.define(\"SafeStartApp.model.UserAuth\",{extend:Ext.data.Model,config:{fields:[{name:\"username\",type:\"string\"},{name:\"password\",type:\"password\"}],validations:[{type:\"presence\",name:\"username\",message:\"Enter your identity\"},{type:\"presence\",name:\"password\",message:\"Enter your db password\"}]",464247,34,"dialogs.UserProfile\",{extend:Ext.Panel,mixins:[Ext.mixin.Observable],xtype:\"SafeStartUserProfileDialog\",config:{modal:true,hideOnMaskTap:true",295680,122,"centered:true,width:Ext.filterPlatform(\"ie10\")?\"100%\":(Ext.os.deviceType==\"Phone\")?260:400,height:Ext.filterPlatform(\"ie10\")?\"30%\":Ext.os.deviceType==\"Phone\"?220:350",464392,34,"false,cls:\"sfa-modal-form\",items:[{xtype:\"toolbar\",docked:\"bottom\",items:[{text:\"Cancel\",ui:\"action\",handler:function(){this.up(\"SafeStartAbstractDialog\").hide()}},{xtype:\"spacer\"},{text:\"Save\",action:\"save-data\",ui:\"confirm\",handler:function(){this.up(\"SafeStartAbstractDialog\").fireEvent(\"save-data\",this.up(\"SafeStartAbstractDialog\"))}}]}]",246797,33,"Parent();this.profileForm=this",465622,35,"forms.UserProfile\"));this.profileForm.setRecord(SafeStartApp.userModel)}});Ext.define(\"SafeStartApp.controller.Auth\",{extend:Ext.app.Controller,mixins:[SafeStartApp.controller.mixins.Form],config:{control:{loginButton:{tap:\"loginAction\"},logoutButton:{tap:\"logoutAction\"},showProfileDlgButton:{tap:\"showProfileDlgAction\"},updateProfileButton:{tap:\"updateProfileAction\"}},refs:{loginButton:\"SafeStartAuthForm > button[action=login]\",logoutButton:\"SafeStartMainToolbar > button[action=logout]\",loginForm:\"SafeStartAuthForm\",showProfileDlgButton:\"SafeStartMainToolbar > button[action=update_profile]\",updateProfileForm:\"SafeStartUserProfileForm\",updateProfileButton:\"SafeStartUserProfileDialog > button[action=save-data]\"}},loginAction:function(){if(!this.userAuthModel){this.userAuthModel=Ext.create(\"SafeStartApp.model.UserAuth\")}if(this.validateFormByModel(this.userAuthModel,this.getLoginForm())){SafeStartApp.AJAX(\"user/login\",this.getLoginForm().getValues(),function(a){SafeStartApp.loadMainMenu()})}},logoutAction:function(){SafeStartApp.AJAX(\"user/logout\",{},function(a){SafeStartApp.currentUser=a.userInfo;SafeStartApp.loadMainMenu()})},showProfileDlgAction:function(){if(!this.profileDlg){this.profileDlg=",465610,47,"dialogs.UserProfile\"));this.profileDlg.addListener(\"save-data\",this.updateProfileAction,this)}this.profileDlg.show()},updateProfileAction:function(c,b){var a=this;if(!this.userProfileModel){this.userProfileModel=Ext.create(\"SafeStartApp.model.User\")}if(this.validateFormByModel(this.userProfileModel,this.getUpdateProfileForm())){SafeStartApp.AJAX(\"user/\"+SafeStartApp.userModel.get(\"id\")+\"/profile/update\",this.getUpdateProfileForm().getValues(),function(d){Ext.iterate(a.getUpdateProfileForm().getFields(),function(e,f){SafeStartApp.userModel.set(e,f.getValue())},this);a.getShowProfileDlgButton().setText(SafeStartApp.userModel.get(\"firstName\")+\" \"+SafeStartApp.userModel.get(\"lastName\"));c.hide()})}}});Ext.define(\"SafeStartApp.model.CompanySubscription\",{extend:Ext.data.Model,config:{fields:[{name:\"max_users\",type:\"int\",defaultValue:0},{name:\"max_vehicles\",type:\"int\",defaultValue:0},{name:\"expiry_date\",type:\"date\",defaultValue:new Date()}],validations:[{type:\"presence\",name:\"max_users\",message:\"Please set max allowed users\"},{type:\"presence\",name:\"max_vehicles\",message:\"Please set max allowed vehicles\"}]}});Ext.define(\"SafeStartApp.controller.Companies\",{extend:Ext.app.Controller,mixins:[SafeStartApp.controller.mixins.Form],init:function(){},config:{control:{navMain:{itemtap:\"onSelectAction\"},addCompanyButton:{tap:\"addAction\"}},refs:{main:\"SafeStartCompaniesPage\",pages:\"SafeStartMainView\",companyPage:\"SafeStartCompanyPage\",usersPage:\"SafeStartUsersPage\",navMain:\"SafeStartCompaniesPage > list[name=companies]\",companyInfoPanel:\"SafeStartCompaniesPage > panel[name=company-info]\",addCompanyButton:\"SafeStartMainToolbar > button[action=add-company]\"}},onSelectAction:function(d,b,g,a,f,c){if(!this.currentCompanyForm){this._createForm()}this.currentCompanyForm.setRecord(a);if(!a.get(\"restricted\")){this.currentCompanyForm.down(\"fieldset\").down(\"fieldset\").disable()}if(a.get(\"expiry_date\")){this.currentCompanyForm.down(\"datepickerfield\").setValue(new Date(a.get(\"expiry_date\")*1000))}this.currentCompanyForm.down(\"button[name=delete-data]\").show();this.currentCompanyForm.down(\"button[name=send-credentials]\").show();this.currentCompanyForm.down(\"button[name=manage]\").show();this.currentCompanyForm.down(\"button[name=reset-data]\").hide();SafeStartApp.companyModel=a},addAction:function(){if(!this.currentCompanyForm){this._createForm()}if(this.companyModel){this.companyModel.destroy()}this.companyModel=Ext.create(\"SafeStartApp.model.Company\");this.currentCompanyForm.setRecord(this.companyModel);this.currentCompanyForm.down(\"fieldset\").down(\"fieldset\").disable();this.currentCompanyForm.down(\"button[name=delete-data]\").hide();this.currentCompanyForm.down(\"button[name=send-credentials]\").hide();this.currentCompanyForm.down(\"button[name=manage]\").hide();this.currentCompanyForm.down(\"button[name=reset-data]\").show();this.getCompanyPage().disable();this.getUsersPage().disable()},saveAction:function(){if(!this.companyModel){this.companyModel=Ext.create(\"SafeStartApp.model.Company\")}if(this.validateFormByModel(this.companyModel,this.currentCompanyForm)){if(!this.companySubscriptionModel){this.companySubscriptionModel=Ext.create(\"SafeStartApp.model.CompanySubscription\")}if(this.currentCompanyForm.getValues().restricted){if(this.validateFormByModel(this.companySubscriptionModel,this.currentCompanyForm)){this._saveData()}}else{this._saveData()}}},sendCredentialsAction:function(){SafeStartApp.AJAX(\"admin/company/\"+this.currentCompanyForm.getValues().id+\"/send-credentials\",{},function(a){})},deleteAction:function(){var a=this;Ext.Msg.confirm(\"Confirmation\",\"Are you sure you want to delete this company account?\",function(){SafeStartApp.AJAX(\"admin/company/\"+a.currentCompanyForm.getValues().id+\"/delete\",{},function(b){a.getNavMain().getStore().loadData();a.currentCompanyForm.reset();a.currentCompanyForm.down(\"button[name=delete-data]\").hide();a.currentCompanyForm.down(\"button[name=send-credentials]\").hide();a.currentCompanyForm.down(\"button[name=manage]\").hide();a.currentCompanyForm.down(\"button[name=reset-data]\").show();a.getCompanyPage().disable();a.getUsersPage().disable()})})},resetAction:function(){this.currentCompanyForm.reset()},openSelectedAction:function(){this.getCompanyPage().enable();this.getUsersPage().enable();this.getPages().setActiveItem(1)},_createForm:function(){if(!this.currentCompanyForm){this.currentCompanyForm=Ext.create(\"SafeStartApp.view.forms.CompanySettings\");this.getCompanyInfoPanel().removeAll(true);this.getCompanyInfoPanel().setHtml(\"\");this.getCompanyInfoPanel().add(this.currentCompanyForm);this.currentCompanyForm.addListener(\"save-data\",this.saveAction,this);this.currentCompanyForm.addListener(\"send-credentials\",this.sendCredentialsAction,this);this.currentCompanyForm.addListener(\"reset-data\",this.resetAction,this);this.currentCompanyForm.addListener(\"delete-data\",this.deleteAction,this);this.currentCompanyForm.addListener(\"manage\",this.openSelectedAction,this)}},_saveData:function(){var a=this;var b=this.currentCompanyForm.getValues();if(this.currentCompanyForm.down(\"datepickerfield\").getValue()){b.expiry_date=(this.currentCompanyForm.down(\"datepickerfield\").getValue().getTime()/1000)}else{b.expiry_date=null}SafeStartApp.AJAX(\"admin/company/\"+this.currentCompanyForm.getValues().id+\"/update\",b,function(c){if(c.companyId){a._reloadStore(c.companyId);a.currentCompanyForm.down(\"button[name=delete-data]\").show();a.currentCompanyForm.down(\"button[name=send-credentials]\").show();a.currentCompanyForm.down(\"button[name=reset-data]\").hide()}})},_reloadStore:function(a){this.getNavMain().getStore().loadData();this.getNavMain().getStore().addListener(\"data-load-success\",function(){if(!a){return}this.currentCompanyForm.setRecord(this.getNavMain().getStore().getById(a));SafeStartApp.companyModel=this.getNavMain().getStore().getById(a);if(!this.getNavMain().getStore().getById(a).get(\"restricted\")){this.currentCompanyForm.down(\"fieldset\").down(\"fieldset\").disable()}if(this.getNavMain().getStore().getById(a).get(\"expiry_date\")){this.currentCompanyForm.down(\"datepickerfield\").setValue(new Date(this.getNavMain().getStore().getById(a).get(\"expiry_date\")*1000))}self.currentCompanyForm.down(\"button[name=manage]\").show()},this)",464247,34,"forms.CompanyUser\",{extend:Ext.form.Panel,mixins:[Ext.mixin.Observable],xtype:\"SafeStartCompanyUserForm\",config:{minHeight:400,items:[{xtype:\"fieldset\",title:\"User Info\",items:[{xtype:\"hiddenfield\",name:\"id\"},{xtype:\"hiddenfield\",name:\"companyId\"},{xtype:\"emailfield\",label:\"Email\",required:true,name:\"email\"},{xtype:\"textfield\",label:\"First name\",required:true,name:\"firstName\"},{xtype:\"textfield\",label:\"Last name\",required:true,name:\"lastName\"},{xtype:\"textfield\",label:\"Position\",name:\"position\"},{xtype:\"textfield\",label:\"Sector/Department\",name:\"department\"},{xtype:\"selectfield\",name:\"role\",label:\"Company role\",valueField:\"rank\",displayField:\"title\",store:{data:[{rank:\"companyManager\",title:\"Manager\"},{rank:\"companyUser\",title:\"User\"}]}},{xtype:\"togglefield\",name:\"enabled\",label:\"Enabled\",listeners:{change:function(e,c,a,d,b){}}}]},{xtype:\"toolbar\",docked:\"bottom\",items:[{xtype:\"button\",name:\"delete-data\",text:\"Delete\",ui:\"decline\",iconCls:\"delete\",handler:function(){this.up(\"SafeStartCompanyUserForm\").fireEvent(\"delete-data\",this.up(\"SafeStartCompanyUserForm\"))}},{xtype:\"spacer\"},{xtype:\"button\",text:\"Reset\",name:\"reset-data\",handler:function(){this.up(\"SafeStartCompanyUserForm\").fireEvent(\"reset-data\",this.up(\"SafeStartCompanyUserForm\"))}},{xtype:\"button\",text:\"Send Credentials\",name:\"send-credentials\",ui:\"action\",handler:function(){this.up(\"SafeStartCompanyUserForm\").fireEvent(\"send-credentials\",this.up(\"SafeStartCompanyUserForm\"))}},{xtype:\"button\",text:\"Save\",name:\"save-data\",ui:\"confirm\",handler:function(){this.up(\"SafeStartCompanyUserForm\").fireEvent(\"save-data\",this.up(\"SafeStartCompanyUserForm\"))}}]}]}});Ext.define(\"SafeStartApp.controller.Users\",{extend:Ext.app.Controller,mixins:[SafeStartApp.controller.mixins.Form],init:function(){},config:{control:{navMain:{itemtap:\"onSelectAction\"},addButton:{tap:\"addAction\"}},refs:{navMain:\"SafeStartUsersPage > list[name=users]\",infoPanel:\"SafeStartUsersPage > panel[name=user-info]\",addButton:\"SafeStartUsersToolbar > button[action=add-user]\"}},onSelectAction:function(d,b,g,a,f,c){if(!this.currentForm){this._createForm()}this.currentForm.setRecord(a);this.currentForm.down(\"button[name=delete-data]\").show();this.currentForm.down(\"button[name=send-credentials]\").show();this.currentForm.down(\"button[name=reset-data]\").hide()},addAction:function(){if(!this.currentForm){this._createForm()}if(this.userModel){this.userModel.destroy()}this.userModel=Ext.create(\"SafeStartApp.model.User\");this.currentForm.setRecord(this.userModel);this.currentForm.down(\"button[name=delete-data]\").hide();this.currentForm.down(\"button[name=send-credentials]\").hide();this.currentForm.down(\"button[name=reset-data]\").show()},saveAction:function(){if(!this.userModel){this.userModel=Ext.create(\"SafeStartApp.model.User\")}if(this.validateFormByModel(this.userModel,this.currentForm)){var a=this;var b=this.currentForm.getValues();b.companyId=SafeStartApp.companyModel.get(\"id\");SafeStartApp.AJAX(\"user/\"+this.currentForm.getValues().id+\"/update\",b,function(c){if(c.userId){a._reloadStore(c.userId);a.currentForm.down(\"button[name=delete-data]\").show();a.currentForm.down(\"button[name=send-credentials]\").show();a.currentForm.down(\"button[name=reset-data]\").hide()}})}},sendCredentialsAction:function(){SafeStartApp.AJAX(\"user/\"+this.currentForm.getValues().id+\"/send-credentials\",{},function(a){})},deleteAction:function(){var a=this;Ext.Msg.confirm(\"Confirmation\",\"Are you sure you want to delete this user account?\",function(){SafeStartApp.AJAX(\"user/\"+a.currentForm.getValues().id+\"/delete\",{},function(b){a.getNavMain().getStore().loadData();a.currentForm.reset();a.currentForm.down(\"button[name=delete-data]\").hide();a.currentForm.down(\"button[name=send-credentials]\").hide();a.currentForm.down(\"button[name=reset-data]\").show()})})},resetAction:function(){this.currentForm.reset()},_createForm:function(){if(!this.currentForm){this.currentForm=Ext.create(\"SafeStartApp.view.forms.CompanyUser\");this.getInfoPanel().removeAll(true);this.getInfoPanel().setHtml(\"\");this.getInfoPanel().add(this.currentForm);this.currentForm.addListener(\"save-data\",this.saveAction,this);this.currentForm.addListener(\"send-credentials\",this.sendCredentialsAction,this);this.currentForm.addListener(\"reset-data\",this.resetAction,this);this.currentForm.addListener(\"delete-data\",this.deleteAction,this)}},_reloadStore:function(a){this.getNavMain().getStore().loadData();this.getNavMain().getStore().addListener(\"data-load-success\",function(){if(!a){return}this.currentForm.setRecord(this.getNavMain().getStore().getById(a))},this)}});Ext.define(\"SafeStartApp.controller.Company\",{extend:Ext.app.Controller,mixins:[SafeStartApp.controller.mixins.Form],requires:[],init:function(){},config:{control:{},refs:{navMain:\"SafeStartCompanyPage > list[name=vehicles]\",vehicleInfoPanel:\"SafeStartCompanyPage > panel[name=vehicle-info]\",addVehicleButton:\"SafeStartCompanyToolbar > button[action=add-vehicle]\"}}});Ext.define(\"SafeStartApp.store.VehicleChecklist\",{extend:SafeStartApp.store.AbstractTreeStore,config:{autoLoad:false,model:\"SafeStartApp.model.ChecklistField\",proxy:{type:\"ajax\",url:\"api/company/getvehiclechecklist\",reader:{type:\"json\",rootProperty:\"data\"}},sorters:\"sort_order\",grouper:{groupFn:function(a){return a.get(\"sort_order\")}}",464247,34,"forms.Vehicle\",{extend:Ext.form.Panel,mixins:[Ext.mixin.Observable],xtype:\"SafeStartVehicleForm\",config:{minHeight:400,cls:\"sfa-form-no-title\",items:[{xtype:\"hiddenfield\",name:\"id\"},{xtype:\"hiddenfield\",name:\"companyId\"},{xtype:\"textfield\",label:\"Title\",required:true,name:\"title\"},{xtype:\"textfield\",label:\"Type\",name:\"type\"},{xtype:\"textfield\",label:\"Plant ID\",required:true,name:\"plantId\"},{xtype:\"textfield\",label:\"Registration\",required:true,name:\"registration\"},{xtype:\"textfield\",label:\"Project Name\",name:\"projectName\"},{xtype:\"textfield\",label:\"Project Number\",name:\"projectNumber\"},{xtype:\"fieldset\",title:\"Until next service due:\",items:[{xtype:\"spinnerfield\",maxValue:1000000,minValue:24,stepValue:24,name:\"serviceDueHours\",required:true,label:\"Hours\"},{xtype:\"spinnerfield\",maxValue:1000000,minValue:1000,stepValue:1000,name:\"serviceDueKm\",required:true,label:\"Kilometres\"}]},{xtype:\"togglefield\",name:\"enabled\",label:\"Enabled\",listeners:{change:function(e,c,a,d,b){}}},{xtype:\"toolbar\",docked:\"bottom\",items:[{xtype:\"button\",name:\"delete-data\",text:\"Delete\",ui:\"decline\",iconCls:\"delete\",handler:function(){this.up(\"SafeStartVehicleForm\").fireEvent(\"delete-data\",this.up(\"SafeStartVehicleForm\"))}},{xtype:\"spacer\"},{xtype:\"button\",text:\"Reset\",name:\"reset-data\",handler:function(){this.up(\"SafeStartVehicleForm\").fireEvent(\"reset-data\",this.up(\"SafeStartVehicleForm\"))}},{xtype:\"button\",text:\"Save\",name:\"save-data\",ui:\"confirm\",handler:function(){this.up(\"SafeStartVehicleForm\").fireEvent(\"save-data\",this.up(\"SafeStartVehicleForm\"))}}]}]}});Ext.define(\"SafeStartApp.controller.DefaultVehicles\",{extend:Ext.app.Controller,mixins:[SafeStartApp.controller.mixins.Form],selectedNodeId:0,selectedRecord:0,onSelectAction:function(){this.selectedRecord=this.getNavMain().getActiveItem().getStore().getNode();this.selectedNodeId=arguments[4].get(\"id\");switch(arguments[4].get(\"action\")){case\"info\":this.getInfoPanel().setActiveItem(0);this.showUpdateForm();break;case\"fill-checklist\":this.loadChecklist(arguments[4].parentNode.get(\"id\"));this.getInfoPanel().setActiveItem(this.getVehicleInspectionPanel());break;case\"update-checklist\":this.getInfoPanel().setActiveItem(2);this.showUpdateCheckList();break}},showUpdateForm:function(){if(!this.currentForm){this._createForm()}this.currentForm.setRecord(this.selectedRecord);this.currentForm.down(\"button[name=delete-data]\").show();this.currentForm.down(\"button[name=reset-data]\").hide()},addAction:function(){this.getInfoPanel().setActiveItem(0);this.getNavMain().goToNode(this.getNavMain().getStore().getRoot());this.selectedNodeId=0;if(!this.currentForm){this._createForm()}if(this.vehicleModel){this.vehicleModel.destroy()}this.vehicleModel=new SafeStartApp.model.Vehicle();this.currentForm.setRecord(this.vehicleModel);this.currentForm.down(\"button[name=delete-data]\").hide();this.currentForm.down(\"button[name=reset-data]\").show()},saveAction:function(){if(!this.vehicleModel){this.vehicleModel=new SafeStartApp.model.Vehicle()}if(this.validateFormByModel(this.vehicleModel,this.currentForm)){var a=this;var b=this.currentForm.getValues();b.companyId=SafeStartApp.companyModel.get(\"id\");SafeStartApp.AJAX(\"vehicle/\"+this.currentForm.getValues().id+\"/update\",b,function(c){if(c.vehicleId){a._reloadStore(c.vehicleId);a.currentForm.down(\"button[name=delete-data]\").show();a.currentForm.down(\"button[name=reset-data]\").hide()}})}},deleteAction:function(){var a=this;Ext.Msg.confirm(\"Confirmation\",\"Are you sure you want to delete this vehicle?\",function(){SafeStartApp.AJAX(\"vehicle/\"+a.currentForm.getValues().id+\"/delete\",{},function(b){a.getNavMain().getStore().loadData();a.currentForm.reset();a.currentForm.down(\"button[name=delete-data]\").hide();a.currentForm.down(\"button[name=reset-data]\").show();a.getNavMain().goToNode(a.getNavMain().getStore().getRoot())})})},resetAction:function(){this.currentForm.reset()},_createForm:function(){if(!this.currentForm){this.currentForm=Ext.create(\"SafeStartApp.view.forms.Vehicle\");this.getInfoPanel().getActiveItem().add(this.currentForm);this.currentForm.addListener(\"save-data\",this.saveAction,this);this.currentForm.addListener(\"reset-data\",this.resetAction,this);this.currentForm.addListener(\"delete-data\",this.deleteAction,this)}},_reloadStore:function(a){this.getNavMain().getStore().loadData();this.getNavMain().getStore().addListener(\"data-load-success\",function(){if(!a){return}this.currentForm.setRecord(this.getNavMain().getStore().getById(a))},this)},showUpdateCheckList:function(){var a=this;if(!this.vehicleChecklistStore){this.vehicleChecklistStore=new SafeStartApp.store.VehicleChecklist();this.vehicleChecklistStore.getProxy().setExtraParam(\"vehicleId\",this.selectedNodeId)}else{this.vehicleChecklistStore.getProxy().setExtraParam(\"vehicleId\",this.selectedNodeId);this.vehicleChecklistStore.loadData()}if(!this.checkListTree){this.checkListTree=new SafeStartApp.view.components.UpdateChecklist({checkListStore:this.vehicleChecklistStore});this.getInfoPanel().getActiveItem().add(this.checkListTree)}this.vehicleChecklistStore.addListener(\"data-load-success\",function(){if(a.vehicleChecklistStore.getRoot()){a.checkListTree.getTreeList().goToNode(a.vehicleChecklistStore.getRoot())}},this)},loadChecklist:function(b){var a=this;SafeStartApp.AJAX(\"vehicle/\"+b+\"/getchecklist\",{},function(c){a.getVehicleInspectionPanel().loadChecklist(c.checklist||{})})},onNextBtnTap:function(d){var f=this.getVehicleInspectionPanel(),e=d.up(\"formpanel\"),b=this.getIncludedChecklistCards(),a=0,c=b.indexOf(e);if(c!==-1){a=c+1}if(b[a]){f.setActiveItem(b[a])}else{console.log(\"submitAction\")}},onPrevBtnTap:function(e){var b=this.getVehicleInspectionPanel(),f=e.up(\"formpanel\"),a=this.getIncludedChecklistCards(),d=0,c=a.indexOf(f);if(c!==-1){d=c-1}if(a[d]){b.setActiveItem(a[d])}},onSelectAdditional:function(b,a){this.getVehicleInspectionPanel().down(\"formpanel{config.groupId === \"+b.config.checklistGroupId+\"}\").isIncluded=a?true:false},getIncludedChecklistCards:function(){var a=[\"formpanel[name=checklist-card]\",\"formpanel[name=checklist-card-choise-additional]\",\"formpanel[name=checklist-card-additional][isIncluded]\",\"formpanel[name=checklist-card-review]\"].join(\", \");return this.getVehicleInspectionPanel().query(a)},onActivateReviewCard:function(){console.log(\"review\")}});Ext.define(\"SafeStartApp.controller.CompanyVehicles\",{extend:SafeStartApp.controller.DefaultVehicles,config:{control:{\"SafeStartCompanyPage SafeStartVehicleInspection formpanel button[action=prev]\":{tap:\"onPrevBtnTap\"},\"SafeStartCompanyPage SafeStartVehicleInspection formpanel button[action=next]\":{tap:\"onNextBtnTap\"},\"SafeStartCompanyPage SafeStartVehicleInspection formpanel[name=checklist-card-choise-additional] checkboxfield\":{change:\"onSelectAdditional\"},reviewCard:{activate:\"onActivateReviewCard\"},navMain:{itemtap:\"onSelectAction\"},addButton:{tap:\"addAction\"}},refs:{navMain:\"SafeStartCompanyPage SafeStartNestedListVehicles\",infoPanel:\"SafeStartCompanyPage panel[name=info-container]\",vehicleInspectionPanel:\"SafeStartCompanyPage SafeStartVehicleInspection\",addButton:\"SafeStartCompanyPage SafeStartCompanyToolbar > button[action=add-vehicle]\",manageChecklistPanel:\"SafeStartCompanyPage > panel[name=info-container] > panel[name=vehicle-manage]\",reviewCard:\"SafeStartCompanyPage SafeStartVehicleInspection formpanel[name=checklist-card-review]\"},showUpdateCheckList:function(){var a=this;if(!this.vehicleChecklistStore){this.vehicleChecklistStore=Ext.create(\"SafeStartApp.store.VehicleChecklist\");this.vehicleChecklistStore.getProxy().setExtraParam(\"vehicleId\",this.selectedNodeId)}else{this.vehicleChecklistStore.getProxy().setExtraParam(\"vehicleId\",this.selectedNodeId);this.vehicleChecklistStore.loadData()}if(!this.checkListTree){this.checkListTree=new SafeStartApp.view.components.UpdateChecklist({checkListStore:this.vehicleChecklistStore});this.getInfoPanel().getActiveItem().add(this.checkListTree)}this.vehicleChecklistStore.addListener(\"data-load-success\",function(){if(a.vehicleChecklistStore.getRoot()){a.checkListTree.getTreeList().goToNode(a.vehicleChecklistStore.getRoot())}},this)}}});Ext.define(\"SafeStartApp.controller.UserVehicles\",{extend:SafeStartApp.controller.DefaultVehicles,config:{control:{\"SafeStartVehiclesPage SafeStartVehicleInspection formpanel button[action=prev]\":{tap:\"onPrevBtnTap\"},\"SafeStartVehiclesPage SafeStartVehicleInspection formpanel button[action=next]\":{tap:\"onNextBtnTap\"},\"SafeStartVehiclesPage SafeStartVehicleInspection formpanel[name=checklist-card-choise-additional] checkboxfield\":{change:\"onSelectAdditional\"},reviewCard:{activate:\"onActivateReviewCard\"},navMain:{leafitemtap:\"onSelectAction\"},addButton:{tap:\"addAction\"}},refs:{navMain:\"SafeStartVehiclesPage SafeStartNestedListVehicles\",infoPanel:\"SafeStartVehiclesPage panel[name=info-container]\",vehicleInspectionPanel:\"SafeStartVehiclesPage SafeStartVehicleInspection\",addButton:\"SafeStartVehiclesToolbar > button[action=add-vehicle]\",manageChecklistPanel:\"SafeStartVehiclesPage > panel[name=info-container] > panel[name=vehicle-manage]\",reviewCard:\"SafeStartVehiclesPage SafeStartVehicleInspection formpanel[name=checklist-card-review]\"}},saveAction:function(){if(!this.vehicleModel){this.vehicleModel=Ext.create(\"SafeStartApp.model.Vehicle\")}if(this.validateFormByModel(this.vehicleModel,this.currentForm)){var a=this;var b=this.currentForm.getValues();b.companyId=SafeStartApp.userModel.get(\"companyId\");SafeStartApp.AJAX(\"vehicle/\"+this.currentForm.getValues().id+\"/update\",b,function(c){if(c.vehicleId){a._reloadStore(c.vehicleId);a.currentForm.down(\"button[name=delete-data]\").show();a.currentForm.down(\"button[name=reset-data]\").hide()}})}",464247,34,"forms.ChecklistField\",{extend:Ext.form.Panel,mixins:[Ext.mixin.Observable],xtype:\"SafeStartChecklistFieldForm\",config:{minHeight:400,items:[{xtype:\"hiddenfield\",name:\"id\"},{xtype:\"hiddenfield\",name:\"parentId\"},{xtype:\"hiddenfield\",name:\"vehicleId\"},{xtype:\"textfield\",label:\"Title\",required:true,name:\"title\"},{xtype:\"selectfield\",name:\"type\",label:\"Type\",valueField:\"rank\",displayField:\"title\",store:{data:[{rank:\"group\",title:\"Questions Group\"},{rank:\"radio\",title:\"Radio Buttons Yes|No|NA\"},{rank:\"checkbox\",title:\"Checkbox Yes|No\"},{rank:\"text\",title:\"Text\"},{rank:\"datePicker\",title:\"Date Picker\"},{rank:\"photo\",title:\"Photo\"}]},listeners:{change:function(e,c,a,d,b){this.up(\"SafeStartChecklistFieldForm\").showCreateFieldCategory()}}},{xtype:\"togglefield\",name:\"additional\",label:\"Additional\",listeners:{change:function(e,c,a,d,b){}}},{xtype:\"selectfield\",name:\"trigger_value\",label:\"Trigger filed value\",valueField:\"rank\",displayField:\"title\",store:{data:[{rank:\"\",title:\"\"},{rank:\"yes\",title:\"Yes\"},{rank:\"no\",title:\"No\"}]}},{xtype:\"textfield\",label:\"Alert message\",required:false,name:\"alert_title\"},{xtype:\"spinnerfield\",maxValue:1000,minValue:0,stepValue:1,name:\"sort_order\",required:true,label:\"Position\"},{xtype:\"togglefield\",name:\"enabled\",label:\"Enabled\"},{xtype:\"toolbar\",docked:\"bottom\",items:[{xtype:\"button\",name:\"delete-data\",text:\"Delete\",ui:\"decline\",iconCls:\"delete\",handler:function(){this.up(\"SafeStartChecklistFieldForm\").fireEvent(\"delete-data\",this.up(\"SafeStartChecklistFieldForm\"))}},{xtype:\"spacer\"},{xtype:\"button\",text:\"Save\",name:\"save-data\",ui:\"confirm\",handler:function(){this.up(\"SafeStartChecklistFieldForm\").fireEvent(\"save-data\",this.up(\"SafeStartChecklistFieldForm\"))}}]}],listeners:{change:function(c,a,d,b){if(!a||!a.get(\"parentId\")||a.get(\"type\")==\"root\"){c.showCreateRootCategory()}else{c.showCreateFieldCategory()}}}},showCreateRootCategory:function(){this.getFields()[\"additional\"].show();this.getFields()[\"type\"].setValue(\"root\");this.getFields()[\"type\"].hide();this.getFields()[\"alert_title\"].hide();this.getFields()[\"trigger_value\"].hide();this.getFields()[\"trigger_value\"].setValue(\"yes\")},showCreateFieldCategory:function(){this.getFields()[\"type\"].show();this.getFields()[\"additional\"].hide();switch(this.getFields()[\"type\"].getValue()){case\"group\":this.getFields()[\"alert_title\"].hide();this.getFields()[\"trigger_value\"].hide();break;case\"radio\":case\"checkbox\":this.getFields()[\"alert_title\"].show();this.getFields()[\"trigger_value\"].show();break;default:this.getFields()[\"alert_title\"].hide();this.getFields()[\"trigger_value\"].hide();break}}});Ext.define(\"SafeStartApp.controller.DefaultChecklist\",{extend:Ext.app.Controller,mixins:[SafeStartApp.controller.mixins.Form],config:{control:{navMain:{itemtap:\"onSelectAction\",back:\"onSelectChangeAction\"},addButton:{tap:\"addAction\"}},refs:{navMain:\"SafeStartSystemSettingsPage > tabpanel > panel[name=checklist] > nestedlist[name=checklist-tree]\",infoPanel:\"SafeStartSystemSettingsPage > tabpanel > panel[name=checklist] > panel[name=field-info]\",addButton:\"SafeStartSystemSettingsPage > tabpanel > panel[name=checklist] > nestedlist[name=checklist-tree] > toolbar > button[action=add-field]\"}},selectedNodeId:0,selectedRecord:0,onSelectChangeAction:function(f,c,b,a){try{this.selectedRecord=this.getNavMain().getStore().getById(c.get(\"parentId\"));if(!this.selectedRecord){this.selectedRecord=Ext.create(\"SafeStartApp.model.ChecklistField\");this.selectedNodeId=0}else{this.selectedNodeId=parseInt(this.selectedRecord.get(\"id\"))}this.getNavMain().selectedNodeId=this.selectedNodeId;if(!this.currentForm){this._createForm()}this.currentForm.setRecord(this.selectedRecord);this.currentForm.fireEvent(\"change\",this.currentForm,this.selectedRecord);this.currentForm.down(\"button[name=delete-data]\").show()}catch(d){}},onSelectAction:function(){try{this.selectedRecord=arguments[4];this.selectedNodeId=parseInt(this.selectedRecord.get(\"id\"));this.getNavMain().selectedNodeId=this.selectedNodeId;if(!this.currentForm){this._createForm()}this.currentForm.setRecord(this.selectedRecord);this.currentForm.fireEvent(\"change\",this.currentForm,this.selectedRecord);this.currentForm.down(\"button[name=delete-data]\").show()}catch(a){}},addAction:function(){if(!this.currentForm){this._createForm()}this.currentForm.down(\"button[name=delete-data]\").hide();if(this.checklistFieldModel){this.checklistFieldModel.destroy()}this.checklistFieldModel=Ext.create(\"SafeStartApp.model.ChecklistField\");this.checklistFieldModel.set(\"parentId\",this.selectedNodeId);if(this.getNavMain().getStore().getProxy().getExtraParams()[\"vehicleId\"]){this.checklistFieldModel.set(\"vehicleId\",parseInt(this.getNavMain().getStore().getProxy().getExtraParams()[\"vehicleId\"]))}if(this.selectedNodeId==0){this.checklistFieldModel.set(\"type\",\"root\");this.currentForm.showCreateRootCategory()}else{this.checklistFieldModel.set(\"type\",\"text\");this.currentForm.showCreateFieldCategory()}this.currentForm.setRecord(this.checklistFieldModel);this.currentForm.fireEvent(\"change\",this.currentForm,this.checklistFieldModel)},saveAction:function(){if(!this.checklistFieldModel){this.checklistFieldModel=Ext.create(\"SafeStartApp.model.ChecklistField\")}if(this.validateFormByModel(this.checklistFieldModel,this.currentForm)){var a=this;var b=this.currentForm.getValues();SafeStartApp.AJAX(this._getUpdateUrl(),b,function(c){if(c.fieldId){a._reloadStore(c.fieldId);a.currentForm.down(\"button[name=delete-data]\").show()}})}},deleteAction:function(){var a=this;Ext.Msg.confirm(\"Confirmation\",\"Are you sure you want to delete this field from checklist?\",function(){SafeStartApp.AJAX(a._getDeleteUrl(),{},function(b){var c=a.selectedRecord.get(\"parentId\");a.getNavMain().getStore().loadData();a.getNavMain().getStore().addListener(\"data-load-success\",function(){a.currentForm.reset();a.currentForm.down(\"button[name=delete-data]\").hide();try{a.getNavMain().goToNode(a.getNavMain().getStore().getNodeById(c))}catch(d){a.getNavMain().goToNode(a.getNavMain().getStore().getRoot())}})})})},resetAction:function(){this.currentForm.reset()},_createForm:function(){if(!this.currentForm){this.currentForm=Ext.create(\"SafeStartApp.view.forms.ChecklistField\");this.getInfoPanel().add(this.currentForm);this.currentForm.addListener(\"save-data\",this.saveAction,this);this.currentForm.addListener(\"delete-data\",this.deleteAction,this)}},reloadEventSet:false,_reloadStore:function(a){this.fieldId=a;this.getNavMain().getStore().loadData();if(this.reloadEventSet){return}this.reloadEventSet=true;this.getNavMain().getStore().addListener(\"data-load-success\",function(){var b=this.getNavMain().getStore().getNodeById(this.fieldId);if(b.isLeaf()){this.getNavMain().goToLeaf(b)}else{this.getNavMain().goToNode(b)}},this)},_getDeleteUrl:function(){return\"admin/checklist/\"+this.currentForm.getValues().id+\"/delete\"},_getUpdateUrl:function(){return\"admin/checklist/\"+this.currentForm.getValues().id+\"/update\"}});Ext.define(\"SafeStartApp.controller.VehicleChecklist\",{extend:SafeStartApp.controller.DefaultChecklist,config:{control:{navMain:{leafitemtap:\"onSelectAction\",selectionchange:\"onSelectChangeAction\"},addButton:{tap:\"addAction\"}},refs:{navMain:\"SafeStartCompanyPage > panel[name=info-container] > panel[name=vehicle-manage] > panel[name=checklist] > nestedlist[name=checklist-tree]\",infoPanel:\"SafeStartCompanyPage > panel[name=info-container] > panel[name=vehicle-manage] > panel[name=checklist] > panel[name=field-info]\",addButton:\"SafeStartCompanyPage > panel[name=info-container] > panel[name=vehicle-manage] > panel[name=checklist] > nestedlist[name=checklist-tree] > toolbar > button[action=add-field]\"}},_getDeleteUrl:function(){return\"checklist/\"+this.currentForm.getValues().id+\"/delete\"},_getUpdateUrl:function(){return\"checklist/\"+this.currentForm.getValues().id+\"/update\"}});SafeStartApp=SafeStartApp||{version:\"1.0\",baseHref:\"http://safe-start.dev/api/\",defMenu:[\"Auth\",\"Contact\"]};Ext.apply(SafeStartApp,{userModel:{},companyModel:{},AJAX:function(b,e,c,d){var a=this;var f={requestId:\"WEB_\"+this.getHash(12)};e=e||{test:1};Ext.Viewport.setMasked({xtype:\"loadmask\"});Ext.Ajax.request({url:this.baseHref+b,params:Ext.encode({meta:f,data:e}),success:function(h){Ext.Viewport.setMasked(false);var g=Ext.decode(h.responseText);if(g.meta&&g.meta.status==200&&!parseInt(g.meta.errorCode)){if(c&&typeof c==\"function\"){c(g.data||{})}}else{a.showRequestFailureInfoMsg(g,d)}},failure:function(g){Ext.Viewport.setMasked(false);a.showRequestFailureInfoMsg(Ext.decode(g.responseText),d)}})},getHash:function(a,d){a=a||12;d=d||\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";var b=\"\";for(var c=0;c<a;c++){var e=Math.floor(Math.random()*d.length);b+=d.substring(e,e+1)}return b},showRequestFailureInfoMsg:function(a,d){var c=Ext.emptyFn();if(d&&typeof d==\"function\"){c=d}var b=\"\";if(a.data&&a.data.errorMessage){b=a.data.errorMessage}this.showFailureInfoMsg(b,c)},showFailureInfoMsg:function(b,a){b=b||\"Operation filed\";Ext.Msg.alert(\"Server response error\",b,a)},showInfoMsg:function(a){a=a||\"Info message\";Ext.Msg.alert(\"Info\",a,Ext.emptyFn())},loadMainMenu:function(){this.AJAX(\"web-panel/getMainMenu\",{},function(a){SafeStartApp.userModel.setData(a.userInfo||{});SafeStartApp.setViewPort(a.mainMenu||null)})},setViewPort:function(a){Ext.Viewport.removeAll(true);this.currentMenu=[];Ext.each(a||this.defMenu,function(b){SafeStartApp.currentMenu.push({xclass:\"SafeStartApp.view.pages.\"+b})},this",464249,32,"ViewPort\",{extend:SafeStartApp.view.Main,xtype:\"SafeStartViewPort",464320,40,"SafeStartApp.currentMenu}});Ext.Viewport.add({xtype:\"SafeStartViewPort\"});Ext.viewport.Default.prototype.doBlurInput=",457724,48,";if(d&&d",454386,57,"b",454444,38,"if(typeof d==\"object\"&&typeof d.blur==\"function\"){d.blur()}}}",465040,54,",\"pages.Auth\",\"pages.Contact\",\"pages.Companies\",\"pages.Company\",\"pages.Users\",\"pages.SystemSettings\"],controllers:[\"Main\",\"Auth\",\"Companies\",\"Users\",\"Company\",\"DefaultVehicles\",\"CompanyVehicles\",\"UserVehicles\",\"DefaultChecklist\",\"VehicleChecklist",465093,476,"var a=this;",465569,41,"SafeStartApp.userModel=Ext.create(\"SafeStartApp.model.User\");SafeStartApp.loadMainMenu(",465663,207,"Ext.define(\"SafeStartApp.view.forms.Auth\",{extend:Ext.form.Panel,xtype:\"SafeStartAuthForm\",config:{autoRender:true,floating:false,centered:true,cls:\"sfa-auth-form\",height:405,width:480,scrollable:false,items:[{xtype:\"fieldset\",title:\"Auth\",instructions:\"If you do not have password please contact us\",items:[{name:\"username\",xtype:\"textfield\",label:\"Username\",required:true,allowBlank:false},{name:\"password\",xtype:\"passwordfield\",label:\"Password\",required:true,allowBlank:false}]},{xtype:\"button\",text:\"Sign In\",action:\"login\",ui:\"confirm\"}]}});"]