["/*5a63fa791dcc6f63630365b6317c386f14f41ea0",42,278826,"Img\",{extend:Ext.Component,xtype:[\"image\",\"img\"],config:{src",337180,33,"img\",imageCls:Ext.baseCSSPrefix+\"img-image\",backgroundCls:Ext.baseCSSPrefix+\"img-background\",mode:\"background\"},beforeI",548416,34,"onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",288510,52,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hid",518992,36,"hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show",562947,38,"hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode",251147,32,"mageCls(),b=c.getBackgroundCls();if(d===\"background\"){if(c.imageElement){c.imageElement.destroy();delete c.imageElement;c.updateSrc(c.getSrc())}c.replaceCls(a,b)}else{c.imageElement=c.element.createChild({tag:\"img\"});c.replaceCls(b,a)}},updateImageCls:function(b,a){this.replaceCls(a,b)},updateBackgroundCls:function(b,a){this.replaceCls(a,b)},",285702,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b);",548857,33,"Height:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);this.callParent(",361064,36,"detachListeners();Ext.destroy(this.imageObject,this.imageElement);delete this.imageObject;delete this.imageElement",278830,178816,"device.communicator.Default\",{SERVER_URL:\"http://localhost:3000\",callbackDataMap:{},callbackIdMap:{},idSeed:0,globalScopeId:\"0\",generateId:function(){return String(++this.idSeed)},getId:function(a){var b=a.$callbackId;if(!b){a.$callbackId=b=this.generateId()}return b},getCallbackId:function(h,d){var c=this.callbackIdMap,b=this.callbackDataMap,g,a,f,e;if(!d){a=this.globalScopeId}else{if(d.isIdentifiable){a=d.getId()}else{a=this.getId(d)}}f=this.getId(h);if(!c[a]){c[a]={}}if(!c[a][f]){g=this.generateId();e={callback:h,scope:d};c[a][f]=g;b[g]=e}return c[a][f]},getCallbackData:function(a){return this.callbackDataMap[a]},invoke:function(c,a){var b=this.getCallbackData(c);b.callback.apply(b.scope,a)},send:function(c){var e,d,b,f;if(!c){c={}}else{if(c.callbacks){e=c.callbacks;d=c.scope;delete c.callbacks;delete c.scope;for(b in e){if(e.hasOwnProperty(b)){f=e[b];if(typeof f==\"function\"){c[b]=this.getCallbackId(f,d)}}}}}c.__source=document.location.href;var a=this.doSend(c);return(a&&a.length>0)?JSON.parse(a):null},doSend:function(a){var c=new XMLHttpRequest();c.open(\"GET\",this.SERVER_URL+\"?\"+Ext.Object.toQueryString(a)+\"&_dc=\"+new Date().getTime(),false);try{c.send(null);return c.responseText}catch(b){if(a.failure){this.invoke(a.failure)}else{if(a.callback){this.invoke(a.callback)}}}}});Ext.define(\"Ext.device.communicator.Android\",{extend:Ext.device.communicator.Default,doSend:function(a){a.__source=document.location.href;return window.Sencha.action(JSON.stringify(a))}});Ext.define(\"Ext.device.Communicator",231760,41,"if(Ext.os.is.Android){return new Ext.device.communicator.Android()}return new Ext.device.communicator.Default()}});Ext.define(\"Ext.device.notification.Abstract\",{show:function(a){if(!a.message){throw (\"[Ext.device.Notification#show] You passed no message\")}if(!a.buttons){a.buttons=\"OK\"}if(!Ext.isArray(a.buttons)){a.buttons=[a.buttons]}if(!a.scope){a.scope=this}return a},vibrate",361311,32,"evice.notification.PhoneGap\",{extend:Ext.device.notification.Abstract,show:function(){var c=this.callParent(arguments),f=c.buttons,a=function(g){if(c.callback){c.callback.apply(c.scope,(c.buttons)?[c.buttons[g-1].itemId.toLowerCase()]:[])}};var e=f.length;if(e&&typeof f[0]!=\"string\"){var b=[],d;for(d=0;d<e;d++){b.push(f[d].text)}f=b.join(\",\")}navigator.notification.confirm(c.message,a,c.title,f)},vibrate:function(){navigator.notification.vibrate(2000)}});Ext.define(\"Ext.device.notification.Sencha\",{extend:Ext.device.notification.Abstract,show",240365,34,"arguments);Ext.device.Communicator.send({command:\"Notification#show\",callbacks:{callback:a.callback},scope:a.scope,title:a.title,message:a.message,buttons:a.buttons.join(\",\")})},vibrate:function(){Ext.device.Communicator.send({command:\"Notification#vibrate\"})}});Ext.define(\"Ext.device.notification.Simulator\",{extend:Ext.device.notification.Abstract,msg:null,show",240365,34,"arguments),e=[],d=a.buttons.length,c,b,g,f;for(b=0;b<d;b++){c=a.buttons[b];if(Ext.isString(c)){c={text:a.buttons[b],itemId:a.buttons[b].toLowerCase()}}e.push(c)}this.msg=Ext.create(\"Ext.MessageBox\");f=this.msg;g=function(h){if(a.callback){a.callback.apply(a.scope,[h])}};this.msg.show({title:a.title,message:a.message,scope:this.msg,buttons:e,fn:g})},vibrate:function(){var c=[\"@-webkit-keyframes vibrate{\",\"    from {\",\"        -webkit-transform: rotate(-2deg);\",\"    }\",\"    to{\",\"        -webkit-transform: rotate(2deg);\",\"    }\",\"}\",\"body {\",\"    -webkit-animation: vibrate 50ms linear 10 alternate;\",\"}\"];var b=",47403,40,";var ",540100,36,"innerHTML=c.join(\"\\n\");b.appendChild(a);setTimeout(function(){b.removeChild(a)},400)}});Ext.define(\"Ext.device.Notification",231760,45,"a=Ext.browser.is;if(a.WebView){if(a.PhoneGap){return Ext.create(\"Ext.device.notification.PhoneGap\")}else{return Ext.create(\"Ext.device.notification.Sencha\")}}else{return Ext.create(\"Ext.device.notification.Simulator\")}}",457627,108745,590079,831,566372,1189,590910,201,"Ext.ux.event.recognizer.MouseWheelDrag",485612,37,486916,48,462159,52,"onMouseWheel=Ext.Function.bind(this.onMouseWheel,this);this.fireDragEnd=Ext.Function.bind(this.fireDragEnd,this);document.addEventListener(\"mousewheel\",this.onMouseWheel,true)},onMouseWheel:function(h){var a=Ext.event.publisher.Dom.prototype,i=a.getElementTarget(h.target),g=a.getBubblingTargets(i),d=h.hasOwnProperty(\"wheelDeltaX\")?h.wheelDeltaX:h.wheelDelta,c=h.hasOwnProperty(\"wheelDeltaY\")?h.wheelDeltaY:h.wheelDelta,f=[{targets:g}],j,b;h=new Ext.event.Dom(h);b=h.time;this.lastEvent=h;this.lastTouches=f;if(!this.startPoint){this.startTime=b;this.startPoint=j={x:h.pageX,y:h.pageY};this.previousPoint=j;this.previousTime=b;this.lastPoint=j;this.lastTime=b;this.fire(\"dragstart\",h,f,this.getInfo(h))}j=this.lastPoint;this.previousTime=this.lastTime;this.previousPoint=j;this.lastPoint={x:j.x+d,y:j.y+c};this.lastTime=b;this.fire(\"drag\",h,f,this.getInfo(h));clearTimeout(this.dragEndTimer);this.dragEndTimer=setTimeout(this.fireDragEnd,50)},fireDragEnd:function(){var a=this.lastEvent;this.fire(\"dragend\",a,this.lastTouches,this.getInfo(a));this.startTime=0;this.previousTime=0;this.lastTime=0",489458,89,";this.lastEvent=null;this.lastTouches=null},getInfo:function(j,i){var a=0.14,d=j.time,b=this.startPoint,f=this.previousPoint,c=this.startTime,m=this.previousTime,n=this.lastPoint,h=(n.x-b.x)*a,g=(n.y-b.y)*a,l=(n.x-f.x)*a,k=(n.y-f.y)*a;n.x+=h;n.y+=g;f.x+=l;f.y+=k;return{flick:{velocity:{x:0,y:0}},touch:i,startX:b.x,startY:b.y,previousX:f.x,previousY:f.y,pageX:n.x,pageY:n.y,deltaX:h,deltaY:g,absDeltaX:Math.abs(h),absDeltaY:Math.abs(g),previousDeltaX:l,previousDeltaY:k,time:d,startTime:c,previousTime:m,deltaTime:d-c,previousDeltaTime:d-m",613694,41,591135,14120,584000,589,615282,2628,582956,563,"listeners:{itemtap:function(){this.up(",583043,35,").onSelectAction.apply(this.up(",583043,35,"),arguments)},back:function(){this.up(",583043,35,").onSelectChangeAction.apply(this.up(",583043,35,"),arguments)}}",590560,33,583551,64,"text:\"Add Inspection Field\",ui:\"action\",iconCls:\"add",572414,39,"UpdateChecklistComponent\").addAction()}",583640,332,",getInfoPanel:function(){return this.down(\"panel[name=field-info]\")},getNavMain",583908,64,",getAddButton:function(){",618479,3762,579153,400,605255,340,"model.Vehicle",569040,115,584267,72,579753,726,605595,2130,"alerts",607504,36,"2);this.showAlerts",607804,3162,",b",610970,859,"getChecklistForm",611567,84,"additional][isIncluded",611764,95,"b,a){var c=this.getChecklistForms();var e=[];var a=",607680,32,";var d=a.getAlertsStore();var f=[];Ext.each(c,function(h){var g=h.query(\"[triggerable]\");e.push({groupName:h.config.groupName,additional:h.config.additional});Ext.each(g,function(i){if(i.config.fieldId){d.each(function(j){if(j.get(\"fieldId\")===i.config.fieldId&&j.get(\"active\")===true){Ext.Array.include(f,j)}})}})});a.updateReview(e,f)},onReviewSubmitBtnTap:function(a){",607680,32,".down(\"sheet[cls=sfa-messagebox-confirm]\").show()},onReviewConfirmBtnTap:function(c){var f=[];var a=",607680,32,";var b=this.getChecklistForms();var d=[];Ext.each(a.query(\"container[name=alert-container]\"),function(h){var g=h.config.alertModel;f.push({fieldId:\"\"+g.get(\"fieldId\"),comment:g.get(\"comment\"),images:g.get(\"photos\")})});Ext.each(b,function(h){var g=h.query(\"field\");Ext.each(g,function(i){switch(i.xtype){case\"checkboxfield\":if(i.isChecked()){value=\"Yes\"}else{value=\"No\"}d.push({id:i.config.fieldId,value:value});break;case\"radiofield\":if(i.isChecked()){d.push({id:i.config.fieldId,value:i.getValue()})}break;case\"textfield\":d.push({id:i.config.fieldId,value:i.getValue()});break;case\"datepickerfield\":d.push({id:i.config.fieldId,value:i.getValue()});break}})});var e={date:Date.now(),fields:d,alerts:f};SafeStartApp.AJAX(\"vehicle/\"+a.vehicleId+\"/completechecklist\",e,function(g){a.down(\"sheet[cls=sfa-messagebox-confirm]\").hide()})},showAlerts:function(){",613695,40,"Company",613739,85,612014,335,612206,58," button[action=submit]\":{tap:\"onReviewSubmit",612096,58,"sheet[cls=sfa-messagebox-confirm] button[action=confirm]\":{tap:\"onReviewConfirmBtnTap",614159,57,"itemtap:\"onSelectAction\",back:\"hideSelection",614237,62,612482,174,"vehicleUsers",612600,44,"UsersPanel\",vehicleAlerts",612600,44,"AlertsPanel\",vehicleInspections",612600,54,"sPanel",612654,289,"}",607315,282,607651,63,607592,54,"break;case\"inspections",607504,36,"this.getVehicleInspectionsPanel());break;case\"alerts",607504,36,"this.getVehicleAlerts",607705,72,"3",607778,34,";case\"users\":this.loadUsers",607610,85,"UsersPanel());break}},hideSelection",608047,52,"10)},checklistStores:{},checkListTrees:{",612942,33,"Ext.Object.each(this.checkListTrees,function(a,b){b.hide()});if(!this.checklistStores[this.selectedNodeId]){this.checklistStores[this.selectedNodeId]",587339,39,"Checklist\");this.checklistStores[this.selectedNodeId]",610237,59,"if(!this.checkListTrees[this.selectedNodeId]){this.checkListTrees[this.selectedNodeId]=new ",582943,35,"Vehicl",613389,32,"checklistStores[this.selectedNodeId]}",609584,48,"heckListTrees[this.selectedNodeId])}this.checkListTrees[this.selectedNodeId].show()},loadUsers",610825,57,"users\",{},function(c){a.getVehicleUsersPanel().buildList(c,b)})},updateUsersAction:function(a,c,b){SafeStartApp.AJAX(\"vehicle/\"+c+\"/update-users\",{value:a},function(d){})",613695,467,614656,59," button[action=submit]\":{tap:\"onReviewSubmi",614008,60,"sheet[cls=sfa-messagebox-confirm] button[action=confirm]\":{tap:\"onReviewConfirmBtnTap",614159,1134,567567,8660,"components.Update",605261,39,"view.components.UpdateChecklist",622923,177,569002,32,"hecklistAlert",569040,48,"field",584112,38,"alertMessage\",type:\"string\"},{name:\"triggerValue\",type:\"string\"},{name:\"comment",584448,32,",{name:\"photos\",type:\"auto\",defaultValue:[]},{name:\"active",414045,35,580448,37,"ChecklistAlert",580492,38,570201,41,"hecklistAlert\",proxy:{type:\"memory\"}}});Ext.define(\"Ext.ux.Fileup\",{extend:Ext.Button,xtype:\"fileupload\"",262064,138,",hidden:true",262202,50,",{tag:\"div\",className:Ext.baseCSSPrefix+\"loading-spinner\",reference:\"loadingElement\",hidden:true,children:[",262125,41,"loading-top\"",262123,43,"loading-right\"",262123,43,"loading-bottom\"",262123,43,"loading-left\"}]},{tag:\"form\",reference:\"formElement\",hidden:false,children:[{tag:\"input\",reference:\"fileElement\",type:\"file\",name:\"userfile\",tabindex:-1,hidden:false,style:\"opacity:0;position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;z-index:16777270;\"}]}],defaultStates:{browse:{text:\"Browse\",cls:Ext.baseCSSPrefix+\"fileup\",ui:\"filebrowse\"},ready:{text:\"Upload\",cls:Ext.baseCSSPrefix+\"fileup-ready\",ui:\"fileready\"},uploading:{text:\"Uploading\",cls:Ext.baseCSSPrefix+\"fileup-uploading\",ui:\"fileupload\",loading:true}},currentState:null",524603,32,"fileup\",name:\"userfile\",autoUpload:false,states:true,loadAsDataUrl:false,url:\"\",signRequestEnabled:false,signHeader:\"\",defaultSuccessCodes:[200,201]},applyStates:function(a){var b=this;if(a){if(Ext.isObject(a)){return Ext.merge({},b.defaultStates,a)}else{return b.defaultStates}}else{return b.defaultStates",288509,53,"fileElement.dom.onchange=function(){a.onChanged.apply(a,arguments)};a.on({scope:a,buffer:250,tap:a.onButtonTap});a.changeState(\"browse\")},onButtonTap:function(){var b=this;switch(b.currentState){case\"ready\":b.changeState(\"uploading\");var a=b.fileElement.dom.files[0];if(!b.getLoadAsDataUrl()){b.fireEvent(\"uploadstart\",a);b.doUpload(a)}else{b.doLoad(a)}break}},onChanged",339011,35,".files.length>0){a.fireAction(\"ready\",[b.target.files[0]],function(){a.changeState(\"ready\")},a)}else{Ext.device.Notification.show({title:\"Error\",message:\"File selected but not accessible\",buttons:Ext.MessageBox.OK,callback:function(){a.changeState(\"browse\")}})}},changeState:function(c){var b=this;var a=b.getStates();if(Ext.isDefined(a[c])){if(a[c].text){b.setText(a[c].text)}else{b.setText(\"\")}if(a[c].cls){b.setCls(a[c].cls)}else{b.setCls(\"\")}if(a[c].ui){b.setUi(a[c].ui)}else{b.setUi(\"normal\")}if(a[c].loading){b.loadingElement.show()}else{b.loadingElement.hide()}switch(c){case\"browse\":b.currentState=\"browse\";b.reset();break;case\"ready\":b.currentState=\"ready\";b.fileElement.hide();if(b.getAutoUpload()){b.onButtonTap()}break;case\"uploading\":b.currentState=\"uploading\";break}}else{}},doLoad:function(b){var c=this;var a=new FileReader();a.onerror=function(f){var d;switch(f.target.error.code){case f.target.error.NOT_FOUND_ERR:d=\"File Not Found\";break;case f.target.error.NOT_READABLE_ERR:d=\"File is not readable\";break;case f.target.error.ABORT_ERR:break;default:d=\"Can not read file\"}c.fireEvent(\"loadfailure\",d,this,f)};a.onload=function(d){c.fireEvent(\"loadsuccess\",this.result,this,d);c.changeState(\"browse\")};a.readAsDataURL(b)},doUpload:function(b){var c=this;var a=new XMLHttpRequest();if(a.upload&&a.upload.addEventListener){a.upload.onprogress=function(f){if(f.lengthComputable){var d=(f.loaded/f.total)*100;c.setBadgeText(d.toFixed(0)+\"%\")}};a.onreadystatechange=function(f){if(this.readyState===4){if(Ext.Array.indexOf(c.getDefaultSuccessCodes(),parseInt(this.status))!==-1){var d=c.decodeResponse(this);if(d&&d.success){c.fireEvent(\"success\",d,this,f)}else{if(d&&d.message){c.fireEvent(\"failure\",d.message,d,this,f)}else{c.fireEvent(\"failure\",\"Unknown error\",d,this,f)}}}else{c.fireEvent(\"failure\",this.status+\" \"+this.statusText,d,this,f)}c.changeState(\"browse\")}};a.upload.onerror=function(d){c.fireEvent(\"failure\",this.status+\" \"+this.statusText,{},this,d)}}a.open(\"POST\",c.getUrl());if(c.getSignRequestEnabled()){c.signRequest(a,function(d){d.send(c.getForm(b))})}else{a.send(c.getForm(b))}},getForm:function(a){var b=new FormData();b.append(this.getName(),a);return b},reset:function(){var a=this;a.setBadgeText(null);a.formElement.dom.reset();a.fileElement.show()},decodeResponse:function(a){return Ext.decode(a.responseText,true)},signRequest:function(a,d){var b=this;var c=b.getSignHeader();if(!c){b.fireEvent(\"failure\",\"Request signing header is not defined\")}b.signProvider(function(e){a.setRequestHeader(c,e);d(a)},function(e){b.fireEvent(\"failure\",\"Request signing is failed! \"+e,{},this)})},signProvider:function(b,a){b(\"default-token\"",576192,35,"components.FileUpload\",{extend:Ext.ux.Fileup,alias:\"widget.imageupload\",doUpload:function(b){var c=this;var a=new XMLHttpRequest();if(a.upload&&a.upload.addEventListener){a.upload.onprogress=function(f){if(f.lengthComputable){var d=(f.loaded/f.total)*100;c.setBadgeText(d.toFixed(0)+\"%\")}};a.onreadystatechange=function(f){if(this.readyState===4){var d=c.decodeResponse(this);if(Ext.Array.indexOf(c.getDefaultSuccessCodes(),parseInt(this.status,10))!==-1){if(d&&d.meta&&d.meta.status==200&&!parseInt(d.meta.errorCode,10)){c.fireEvent(\"success\",c,d.data,this,f)}else{c.fireEvent(\"failure\",\"Unknown error\",d,this,f)}}else{c.fireEvent(\"failure\",c,this.status+\" \"+this.statusText,{},this,f)}c.changeState(\"browse\")}};a.upload.onerror=function(d){c.fireEvent(\"failure\",c,this.status+\" \"+this.statusText,{},this,d)}}a.open(\"POST\",c.getUrl());if(c.getSignRequestEnabled()){c.signRequest(a,function(d){d.send(c.getForm(b))})}else{a.send(c.getForm(b))}},",582928,33,576227,125,"cls:\"sfa-",576332,64,"this.callParent();this.setAlertsStore(SafeStartApp.store.ChecklistAlerts.create({}));var a=Ext.create(\"Ext.MessageBox\",{cls:\"sfa-messagebox-confirm\",message:\"Please confirm your submission\",hidden:true,buttons:[{ui:\"confirm\",action:\"confirm\",text:\"Confirm\"},{ui:\"action\",text:\"Cancel\",handler:function(b){b.up(\"sheet[cls=sfa-messagebox-confirm]\").hide()}}]});this.add(a)},setAlertsStore:function(a){this._alertsStore=a},getAlertsStore:function(){return this._alertsStore},alerts:[],setAlerts:function(a,b){this.alerts[a]=b;console.log(a);console.log(this.alerts)},getAlerts:function(a){return this.alerts[a]},loadChecklist:function(a,e){var c=[],d=[],b=[];this.getAlertsStore().removeAll();this.vehicleId=e||0;a=a||",576457,45,"f){this.remove(f)},this);Ext.each(a,function(h,g){var f=this.createForm(h);if(h.additional){f",576595,41,"f",576637,38,"h.groupName,checklistGroupId:h.groupId})}else{f.name=\"checklist-card\";c.push(f",576753,128,"layout:{type:\"vbox\",align:\"center\"},items:[{xtype:\"fieldset\",maxWidth:900,width:\"100%",576904,353,"layout:{type:\"vbox\",align:\"center\"}",577256,562,"layout:{type:\"vbox\",align:\"center\"},groupId:b.groupId,additional:b.additional,groupName:b.groupName",577849,33,"c){var a=[];var b=this.getAlertsStore();Ext.each(c,function(d){if(Ext.isArray(d.alerts)&&d.alerts[0]){var e=d.alerts[0];var f",626043,32,"ChecklistAlert\",{alertMessage:e.alertMessage,triggerValue:e.triggerValue,fieldId:d.fieldId});b.add(f)}switch(d",577925,46,"d",577972,50,"d",578023,60,"d",578084,50,"d",578135,56,"d",578192,57,"d",578250,109,"maxWidth:900,width:\"100%\"",578358,56,"this,a=\"checklist-radio-\"+b.fieldId,d=[];Ext.each(b.options,function(e){d",578475,32,"e.value,label:e.label,labelWidth:50,fieldId:b.fieldId,name:a,checked:b.fieldValue===e.value,listeners:{check:function(f){var g=f.up(\"fieldset\"),h=c.getAlertsStore().findRecord(\"fieldId\",g.config.fieldId);if(h!==null){if(h.get(\"triggerValue\").match(new RegExp(f.getValue(),\"i\"))){Ext.Msg.alert(\"CHECKLIST\",h.get(\"alertMessage\"));h.set(\"active\",true)}else{h.set(\"active\",false)}}}}})});return{xtype:\"fieldset\",alerts:b.alerts",295524,36,"defaults:{labelAlign:\"right\"},maxWidth:900,width:\"100%\",fieldId:b.fieldId,triggerable:true,title:b.fieldName,items:d",578718,68,"maxWidth:900,width:\"100%",578784,118,"maxWidth:900,width:\"100%\",label:a.fieldName,labelWidth:\"90%\",fieldId:a.fieldId",578999,56,"maxWidth:900,width:\"100%",579053,72,",updateReview:function(b,c){var a=this.down(",611727,39,");a.removeAll();a.add(this.createVehicleDetailsView(b));a.add(this.createAlertsView(c))},createVehicleDetailsView:function(b){var a=[{xtype:\"titlebar\",title:\"Vehicle details\"}];Ext.each(b,function(c){a",576640,34,"Width:\"90%\",label:c.groupName,checked:true,listeners:{uncheck:function(d){d.setChecked(true)}}})});return{xtype:\"fieldset\",width:\"100%\",maxWidth:900,items:a}},createAlertsView:function(b){var a=[{xtype:\"titlebar\",title:\"Alerts\"}];Ext.each(b,function(c){a.push({xtype:\"panel\",width:\"100%\",maxWidth:900,name:\"alert-container\",fieldId:c.get(\"fieldId\"),alertModel:c,items:[{label:c.get(\"alertMessage\"),xtype:\"checkboxfield\",checked:true,labelWidth:\"90%\",listeners:{uncheck:function(d){d.setChecked(true)}}},{xtype:\"textfield\",label:\"Additional comments\",value:c.get(\"comment\"),listeners:{change:function(d,e){c.set(\"comment\",e)}}},this.createImageUploadPanel(c)]})},this);return a},createImageUploadPanel",577872,32,".get(\"photos\"),function(c){a.push({xtype:\"image\",height:70,margin:10,width:70,src:\"api/image/\"+c+\"70x70\"})});return{xtype:\"panel\",name:\"image-container\",width:\"100%\",maxWidth:900,layout:\"box",590559,50,"xtype:\"imageupload\",autoUpload:true,url:\"api/upload-images\",name:\"image\",states:{browse:{text:\"Add photo\"},uploading:{loading:true}},listeners:{success:function(d,e){var c=d.up(\"panel[name=image-container]\");c.add({xtype:\"image\",height:70,margin:10,width:70,src:\"api/image/\"+e.hash+\"70x70\"});var f=b.get(\"photos\");f.push(e.hash)}}}]}].concat(a)}",582927,34,"pages.panel.VehicleAlerts",576256,50,"AlertsPanel\",requires:[],config:{name:\"vehicle-alerts\",cls:\"sfa-",576332,64,278831,33,576209,37,"Users",590094,50,"alias:\"widget.SafeStartVehicleUsersPanel\",requires:[],config:{name:\"vehicle-users\",cls:\"sfa-",576332,34,"vbox\"}",334000,41,"},users:[],vehicleId:0,buildList:function(b,a){this.users=b;this.vehicleId=a",576459,43,"c){this.remove(c)},this);this.add({xtype:\"formpanel",577255,47,"Vehicle Users\"}]});Ext.each(this.users,function(c){this.add({xtype:\"formpanel\",margin:\"2 20 2 20",605741,36,"userId\",value:c.id},{xtype:\"selectfield\",name:\"assigned\",label:c.firstName+\" \"+c.lastName",615642,60,"no\",title:\"No access\"},{rank:\"user\",title:\"User\"},{rank:\"responsible\",title:\"Responsible\"}]},value:c.assigned}]})},this);if(this.users",576779,37,"items:[{xtype:\"toolbar\",items:[",590698,81,"var c=this.up(\"SafeStartVehicleUsersPanel\");SafeStartApp.app.getController(\"CompanyVehicles\").updateUsersAction(c.getValue(),c.vehicleId,c)}}]}]})}else{this.add({xtype:\"formpanel\",margin:\"0 0 0 0\",html:\"No date for display\"})}},getValue:function(){this.value",576456,46,"a){if(a.getValues().userId){this.value.push(a.getValues())}},this);return this.value",582927,34,"pages.panel.VehicleInspections",576256,60,"sPanel\",requires:[]",576317,33,"s\",cls:\"sfa-",576332,64,278831,33,580466,565,"activate",588495,141,581176,524,"SafeStartVehicleInspectionsPanel\"},{xtype:\"SafeStartVehicleAlertsPanel",581689,54,",{xtype:\"SafeStartVehicleUsersPanel",581741,812,"User",586333,48,587574,917,"activate",588495,1584,582539,417,584589,534,"activate",588495,141,585268,1014,623100,1463,"b){var a=Ext.Viewport.down(\"SafeStartViewPort\");if(a){Ext.each(a.getInnerItems(),function(c){if(c.onShow){c.removeListener(\"show\",c.onShow)}})}",624566,58,"b||this.defMenu,function(c",624650,67,"c",624718,271,"d){var c=d.target,f=this.focusedElement;if(f&&f",625036,57,"c",625094,48,"f==\"object\"&&typeof f.blur==\"function\"){f",625183,273,625494,457,"eventPublishers:{touchGesture:{recognizers:{mousewheeldrag:{xclass:\"Ext.ux.event.recognizer.MouseWheelDrag\"}}}",625949,912]